5cb787602dcfb86f8067f100b3f2dc98
/* istanbul ignore next */var cov_1vnrercgl = function () {var path = '/c/Users/Sandro/repo/amplify-cli/packages/amplify-codegen/src/commands/configure.js',hash = '1e5e064484b573eeeece09c3535044e51a514c4d',Function = function () {}.constructor,global = new Function('return this')(),gcv = '__coverage__',coverageData = { path: '/c/Users/Sandro/repo/amplify-cli/packages/amplify-codegen/src/commands/configure.js', statementMap: { '0': { start: { line: 1, column: 19 }, end: { line: 1, column: 47 } }, '1': { start: { line: 2, column: 36 }, end: { line: 2, column: 71 } }, '2': { start: { line: 3, column: 12 }, end: { line: 3, column: 28 } }, '3': { start: { line: 6, column: 17 }, end: { line: 6, column: 36 } }, '4': { start: { line: 7, column: 2 }, end: { line: 10, column: 3 } }, '5': { start: { line: 8, column: 4 }, end: { line: 8, column: 23 } }, '6': { start: { line: 9, column: 4 }, end: { line: 9, column: 11 } }, '7': { start: { line: 11, column: 18 }, end: { line: 11, column: 82 } }, '8': { start: { line: 12, column: 2 }, end: { line: 12, column: 29 } }, '9': { start: { line: 13, column: 2 }, end: { line: 13, column: 16 } }, '10': { start: { line: 16, column: 0 }, end: { line: 16, column: 27 } } }, fnMap: { '0': { name: 'configure', decl: { start: { line: 5, column: 15 }, end: { line: 5, column: 24 } }, loc: { start: { line: 5, column: 34 }, end: { line: 14, column: 1 } }, line: 5 } }, branchMap: { '0': { loc: { start: { line: 7, column: 2 }, end: { line: 10, column: 3 } }, type: 'if', locations: [{ start: { line: 7, column: 2 }, end: { line: 10, column: 3 } }, { start: { line: 7, column: 2 }, end: { line: 10, column: 3 } }], line: 7 } }, s: { '0': 0, '1': 0, '2': 0, '3': 0, '4': 0, '5': 0, '6': 0, '7': 0, '8': 0, '9': 0, '10': 0 }, f: { '0': 0 }, b: { '0': [0, 0] }, _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c' },coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {return coverage[path];}coverageData.hash = hash;return coverage[path] = coverageData;}();const loadConfig = /* istanbul ignore next */(cov_1vnrercgl.s[0]++, require('../codegen-config'));
const configureProjectWalkThrough = /* istanbul ignore next */(cov_1vnrercgl.s[1]++, require('../walkthrough/configure'));
const add = /* istanbul ignore next */(cov_1vnrercgl.s[2]++, require('./add'));

async function configure(context) {/* istanbul ignore next */cov_1vnrercgl.f[0]++;
  const config = /* istanbul ignore next */(cov_1vnrercgl.s[3]++, loadConfig(context)); /* istanbul ignore next */cov_1vnrercgl.s[4]++;
  if (!config.getProjects().length) {/* istanbul ignore next */cov_1vnrercgl.b[0][0]++;cov_1vnrercgl.s[5]++;
    await add(context); /* istanbul ignore next */cov_1vnrercgl.s[6]++;
    return;
  } else /* istanbul ignore next */{cov_1vnrercgl.b[0][1]++;}
  const project = /* istanbul ignore next */(cov_1vnrercgl.s[7]++, await configureProjectWalkThrough(context, config.getProjects())); /* istanbul ignore next */cov_1vnrercgl.s[8]++;
  config.addProject(project); /* istanbul ignore next */cov_1vnrercgl.s[9]++;
  config.save();
} /* istanbul ignore next */cov_1vnrercgl.s[10]++;

module.exports = configure;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZ3VyZS5qcyJdLCJuYW1lcyI6WyJsb2FkQ29uZmlnIiwicmVxdWlyZSIsImNvbmZpZ3VyZVByb2plY3RXYWxrVGhyb3VnaCIsImFkZCIsImNvbmZpZ3VyZSIsImNvbnRleHQiLCJjb25maWciLCJnZXRQcm9qZWN0cyIsImxlbmd0aCIsInByb2plY3QiLCJhZGRQcm9qZWN0Iiwic2F2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI2L0RBQUEsTUFBTUEsOERBQWFDLFFBQVEsbUJBQVIsQ0FBYixDQUFOO0FBQ0EsTUFBTUMsK0VBQThCRCxRQUFRLDBCQUFSLENBQTlCLENBQU47QUFDQSxNQUFNRSx1REFBTUYsUUFBUSxPQUFSLENBQU4sQ0FBTjs7QUFFQSxlQUFlRyxTQUFmLENBQXlCQyxPQUF6QixFQUFrQztBQUNoQyxRQUFNQywwREFBU04sV0FBV0ssT0FBWCxDQUFULENBQU4sQ0FEZ0M7QUFFaEMsTUFBSSxDQUFDQyxPQUFPQyxXQUFQLEdBQXFCQyxNQUExQixFQUFrQztBQUNoQyxVQUFNTCxJQUFJRSxPQUFKLENBQU4sQ0FEZ0M7QUFFaEM7QUFDRCxHQUhEO0FBSUEsUUFBTUksMkRBQVUsTUFBTVAsNEJBQTRCRyxPQUE1QixFQUFxQ0MsT0FBT0MsV0FBUCxFQUFyQyxDQUFoQixDQUFOLENBTmdDO0FBT2hDRCxTQUFPSSxVQUFQLENBQWtCRCxPQUFsQixFQVBnQztBQVFoQ0gsU0FBT0ssSUFBUDtBQUNELEM7O0FBRURDLE9BQU9DLE9BQVAsR0FBaUJULFNBQWpCIiwiZmlsZSI6ImNvbmZpZ3VyZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxvYWRDb25maWcgPSByZXF1aXJlKCcuLi9jb2RlZ2VuLWNvbmZpZycpO1xuY29uc3QgY29uZmlndXJlUHJvamVjdFdhbGtUaHJvdWdoID0gcmVxdWlyZSgnLi4vd2Fsa3Rocm91Z2gvY29uZmlndXJlJyk7XG5jb25zdCBhZGQgPSByZXF1aXJlKCcuL2FkZCcpO1xuXG5hc3luYyBmdW5jdGlvbiBjb25maWd1cmUoY29udGV4dCkge1xuICBjb25zdCBjb25maWcgPSBsb2FkQ29uZmlnKGNvbnRleHQpO1xuICBpZiAoIWNvbmZpZy5nZXRQcm9qZWN0cygpLmxlbmd0aCkge1xuICAgIGF3YWl0IGFkZChjb250ZXh0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcHJvamVjdCA9IGF3YWl0IGNvbmZpZ3VyZVByb2plY3RXYWxrVGhyb3VnaChjb250ZXh0LCBjb25maWcuZ2V0UHJvamVjdHMoKSk7XG4gIGNvbmZpZy5hZGRQcm9qZWN0KHByb2plY3QpO1xuICBjb25maWcuc2F2ZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmZpZ3VyZTtcbiJdfQ==