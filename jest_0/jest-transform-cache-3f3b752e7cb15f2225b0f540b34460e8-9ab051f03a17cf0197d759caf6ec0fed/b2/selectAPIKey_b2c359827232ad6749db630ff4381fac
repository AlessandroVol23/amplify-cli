8bd3aca590a5396f294bd91a3db7ac77
/* istanbul ignore next */var cov_4r2omrnd8 = function () {var path = '/c/Users/Sandro/repo/amplify-cli/packages/amplify-codegen/src/utils/selectAPIKey.js',hash = 'da683cf09cca76660029a7738f789ebf16a7722e',Function = function () {}.constructor,global = new Function('return this')(),gcv = '__coverage__',coverageData = { path: '/c/Users/Sandro/repo/amplify-cli/packages/amplify-codegen/src/utils/selectAPIKey.js', statementMap: { '0': { start: { line: 1, column: 17 }, end: { line: 1, column: 36 } }, '1': { start: { line: 2, column: 18 }, end: { line: 2, column: 41 } }, '2': { start: { line: 4, column: 0 }, end: { line: 26, column: 2 } }, '3': { start: { line: 5, column: 21 }, end: { line: 5, column: 23 } }, '4': { start: { line: 6, column: 2 }, end: { line: 6, column: 71 } }, '5': { start: { line: 6, column: 41 }, end: { line: 6, column: 69 } }, '6': { start: { line: 8, column: 2 }, end: { line: 10, column: 3 } }, '7': { start: { line: 9, column: 4 }, end: { line: 9, column: 66 } }, '8': { start: { line: 12, column: 2 }, end: { line: 14, column: 3 } }, '9': { start: { line: 13, column: 4 }, end: { line: 13, column: 25 } }, '10': { start: { line: 16, column: 17 }, end: { line: 23, column: 4 } }, '11': { start: { line: 25, column: 2 }, end: { line: 25, column: 23 } } }, fnMap: { '0': { name: '(anonymous_0)', decl: { start: { line: 4, column: 17 }, end: { line: 4, column: 18 } }, loc: { start: { line: 4, column: 41 }, end: { line: 26, column: 1 } }, line: 4 }, '1': { name: '(anonymous_1)', decl: { start: { line: 6, column: 31 }, end: { line: 6, column: 32 } }, loc: { start: { line: 6, column: 41 }, end: { line: 6, column: 69 } }, line: 6 } }, branchMap: { '0': { loc: { start: { line: 8, column: 2 }, end: { line: 10, column: 3 } }, type: 'if', locations: [{ start: { line: 8, column: 2 }, end: { line: 10, column: 3 } }, { start: { line: 8, column: 2 }, end: { line: 10, column: 3 } }], line: 8 }, '1': { loc: { start: { line: 12, column: 2 }, end: { line: 14, column: 3 } }, type: 'if', locations: [{ start: { line: 12, column: 2 }, end: { line: 14, column: 3 } }, { start: { line: 12, column: 2 }, end: { line: 14, column: 3 } }], line: 12 } }, s: { '0': 0, '1': 0, '2': 0, '3': 0, '4': 0, '5': 0, '6': 0, '7': 0, '8': 0, '9': 0, '10': 0, '11': 0 }, f: { '0': 0, '1': 0 }, b: { '0': [0, 0], '1': [0, 0] }, _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c' },coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {return coverage[path];}coverageData.hash = hash;return coverage[path] = coverageData;}();const inquirer = /* istanbul ignore next */(cov_4r2omrnd8.s[0]++, require('inquirer'));
const constants = /* istanbul ignore next */(cov_4r2omrnd8.s[1]++, require('../constants')); /* istanbul ignore next */cov_4r2omrnd8.s[2]++;

module.exports = async apiKeyObject => {/* istanbul ignore next */cov_4r2omrnd8.f[0]++;
  const apiKeyList = /* istanbul ignore next */(cov_4r2omrnd8.s[3]++, []); /* istanbul ignore next */cov_4r2omrnd8.s[4]++;
  apiKeyObject.apiKeys.forEach(apiKey => {/* istanbul ignore next */cov_4r2omrnd8.f[1]++;cov_4r2omrnd8.s[5]++;return apiKeyList.push(apiKey.id);}); /* istanbul ignore next */cov_4r2omrnd8.s[6]++;

  if (apiKeyList.length === 0) {/* istanbul ignore next */cov_4r2omrnd8.b[0][0]++;cov_4r2omrnd8.s[7]++;
    throw new Error(constants.ERROR_CODEGEN_NO_API_KEY_AVAILABLE);
  } else /* istanbul ignore next */{cov_4r2omrnd8.b[0][1]++;}cov_4r2omrnd8.s[8]++;

  if (apiKeyList.length === 1) {/* istanbul ignore next */cov_4r2omrnd8.b[1][0]++;cov_4r2omrnd8.s[9]++;
    return apiKeyList[0];
  } else /* istanbul ignore next */{cov_4r2omrnd8.b[1][1]++;}

  const answer = /* istanbul ignore next */(cov_4r2omrnd8.s[10]++, await inquirer.prompt([
  {
    name: 'apiKey',
    type: 'list',
    message: constants.PROMPT_MSG_API_KEY,
    choices: apiKeyList }])); /* istanbul ignore next */cov_4r2omrnd8.s[11]++;



  return answer.apiKey;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbGVjdEFQSUtleS5qcyJdLCJuYW1lcyI6WyJpbnF1aXJlciIsInJlcXVpcmUiLCJjb25zdGFudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpS2V5T2JqZWN0IiwiYXBpS2V5TGlzdCIsImFwaUtleXMiLCJmb3JFYWNoIiwiYXBpS2V5IiwicHVzaCIsImlkIiwibGVuZ3RoIiwiRXJyb3IiLCJFUlJPUl9DT0RFR0VOX05PX0FQSV9LRVlfQVZBSUxBQkxFIiwiYW5zd2VyIiwicHJvbXB0IiwibmFtZSIsInR5cGUiLCJtZXNzYWdlIiwiUFJPTVBUX01TR19BUElfS0VZIiwiY2hvaWNlcyJdLCJtYXBwaW5ncyI6Im1oRkFBQSxNQUFNQSw0REFBV0MsUUFBUSxVQUFSLENBQVgsQ0FBTjtBQUNBLE1BQU1DLDZEQUFZRCxRQUFRLGNBQVIsQ0FBWixDQUFOLEM7O0FBRUFFLE9BQU9DLE9BQVAsR0FBaUIsTUFBT0MsWUFBUCxJQUF3QjtBQUN2QyxRQUFNQyw4REFBYSxFQUFiLENBQU4sQ0FEdUM7QUFFdkNELGVBQWFFLE9BQWIsQ0FBcUJDLE9BQXJCLENBQTZCQyxVQUFVLHVGQUFXQyxJQUFYLENBQWlCRCxPQUFPRSxFQUF4QixFQUE0QixDQUFuRSxFQUZ1Qzs7QUFJdkMsTUFBSUwsV0FBV00sTUFBWCxLQUFzQixDQUExQixFQUE2QjtBQUMzQixVQUFNLElBQUlDLEtBQUosQ0FBVVgsVUFBVVksa0NBQXBCLENBQU47QUFDRCxHQUZELDBEQUp1Qzs7QUFRdkMsTUFBSVIsV0FBV00sTUFBWCxLQUFzQixDQUExQixFQUE2QjtBQUMzQixXQUFPTixXQUFXLENBQVgsQ0FBUDtBQUNELEdBRkQ7O0FBSUEsUUFBTVMsMkRBQVMsTUFBTWYsU0FBU2dCLE1BQVQsQ0FBZ0I7QUFDbkM7QUFDRUMsVUFBTSxRQURSO0FBRUVDLFVBQU0sTUFGUjtBQUdFQyxhQUFTakIsVUFBVWtCLGtCQUhyQjtBQUlFQyxhQUFTZixVQUpYLEVBRG1DLENBQWhCLENBQWYsQ0FBTixDQVp1Qzs7OztBQXFCdkMsU0FBT1MsT0FBT04sTUFBZDtBQUNELENBdEJEIiwiZmlsZSI6InNlbGVjdEFQSUtleS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlucXVpcmVyID0gcmVxdWlyZSgnaW5xdWlyZXInKTtcbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIChhcGlLZXlPYmplY3QpID0+IHtcbiAgY29uc3QgYXBpS2V5TGlzdCA9IFtdO1xuICBhcGlLZXlPYmplY3QuYXBpS2V5cy5mb3JFYWNoKGFwaUtleSA9PiBhcGlLZXlMaXN0LnB1c2goKGFwaUtleS5pZCkpKTtcblxuICBpZiAoYXBpS2V5TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoY29uc3RhbnRzLkVSUk9SX0NPREVHRU5fTk9fQVBJX0tFWV9BVkFJTEFCTEUpO1xuICB9XG5cbiAgaWYgKGFwaUtleUxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGFwaUtleUxpc3RbMF07XG4gIH1cblxuICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBpbnF1aXJlci5wcm9tcHQoW1xuICAgIHtcbiAgICAgIG5hbWU6ICdhcGlLZXknLFxuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbWVzc2FnZTogY29uc3RhbnRzLlBST01QVF9NU0dfQVBJX0tFWSxcbiAgICAgIGNob2ljZXM6IGFwaUtleUxpc3QsXG4gICAgfSxcbiAgXSk7XG5cbiAgcmV0dXJuIGFuc3dlci5hcGlLZXk7XG59O1xuIl19