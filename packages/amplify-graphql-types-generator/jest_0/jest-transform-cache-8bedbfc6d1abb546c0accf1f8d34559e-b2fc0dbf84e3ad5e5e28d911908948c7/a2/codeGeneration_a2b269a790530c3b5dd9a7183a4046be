8d85756a2d75b37722c923fb02b01fde
'use strict';require('ts-jest').install("/c/Users/Sandro/repo/amplify-cli/packages/amplify-graphql-types-generator/test/swift/codeGeneration.ts", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst graphql_1 = require(\"graphql\");\nconst loading_1 = require(\"../../src/loading\");\nconst schema = loading_1.loadSchema(require.resolve('../fixtures/starwars/schema.json'));\nconst compiler_1 = require(\"../../src/compiler\");\nconst codeGeneration_1 = require(\"../../src/swift/codeGeneration\");\ndescribe('Swift code generation', () => {\n    let generator;\n    beforeEach(() => {\n        generator = new codeGeneration_1.SwiftAPIGenerator({});\n    });\n    function compile(source, options = { mergeInFieldsFromFragmentSpreads: true }) {\n        const document = graphql_1.parse(source);\n        const context = compiler_1.compileToIR(schema, document, options);\n        generator.context = context;\n        return context;\n    }\n    describe('#classDeclarationForOperation()', () => {\n        it(`should generate a class declaration for a query with variables`, () => {\n            const { operations } = compile(`\n        query HeroName($episode: Episode) {\n          hero(episode: $episode) {\n            name\n          }\n        }\n      `);\n            generator.classDeclarationForOperation(operations['HeroName']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a class declaration for a query with fragment spreads`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            ...HeroDetails\n          }\n        }\n\n        fragment HeroDetails on Character {\n          name\n        }\n      `);\n            generator.classDeclarationForOperation(operations['Hero']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a class declaration for a query with conditional fragment spreads`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            ...DroidDetails\n          }\n        }\n\n        fragment DroidDetails on Droid {\n          primaryFunction\n        }\n      `);\n            generator.classDeclarationForOperation(operations['Hero']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a class declaration for a query with a fragment spread nested in an inline fragment`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            ... on Droid {\n              ...HeroDetails\n            }\n          }\n        }\n\n        fragment HeroDetails on Character {\n          name\n        }\n      `);\n            generator.classDeclarationForOperation(operations['Hero']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a class declaration for a mutation with variables`, () => {\n            const { operations } = compile(`\n        mutation CreateReview($episode: Episode) {\n          createReview(episode: $episode, review: { stars: 5, commentary: \"Wow!\" }) {\n            stars\n            commentary\n          }\n        }\n      `);\n            generator.classDeclarationForOperation(operations['CreateReview']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a class declaration with an operationIdentifier property when generateOperationIds is specified`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            ...HeroDetails\n          }\n        }\n        fragment HeroDetails on Character {\n          name\n        }\n      `, { generateOperationIds: true, mergeInFieldsFromFragmentSpreads: true });\n            generator.classDeclarationForOperation(operations['Hero']);\n            expect(generator.output).toMatchSnapshot();\n        });\n    });\n    describe('#initializerDeclarationForProperties()', () => {\n        it(`should generate initializer for a property`, () => {\n            generator.initializerDeclarationForProperties([{ propertyName: 'episode', typeName: 'Episode' }]);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate initializer for an optional property`, () => {\n            generator.initializerDeclarationForProperties([\n                { propertyName: 'episode', typeName: 'Episode?', isOptional: true }\n            ]);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate initializer for multiple properties`, () => {\n            generator.initializerDeclarationForProperties([\n                { propertyName: 'episode', typeName: 'Episode?', isOptional: true },\n                { propertyName: 'scene', typeName: 'String?', isOptional: true }\n            ]);\n            expect(generator.output).toMatchSnapshot();\n        });\n    });\n    describe('#propertyAssignmentForField()', () => {\n        it('should generate expression for nullable scalar', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: graphql_1.GraphQLString\n            })).toBe('\"response_key\": propertyName');\n        });\n        it('should generate expression for non-null scalar', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLNonNull(graphql_1.GraphQLString)\n            })).toBe('\"response_key\": propertyName');\n        });\n        it('should generate expression for nullable list of nullable scalars', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLList(graphql_1.GraphQLString)\n            })).toBe('\"response_key\": propertyName');\n        });\n        it('should generate expression for nullable list of non-null scalars', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString))\n            })).toBe('\"response_key\": propertyName');\n        });\n        it('should generate expression for non-null list of nullable scalars', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(graphql_1.GraphQLString))\n            })).toBe('\"response_key\": propertyName');\n        });\n        it('should generate expression for non-null list of non-null scalars', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString)))\n            })).toBe('\"response_key\": propertyName');\n        });\n        it('should generate expression for nullable composite', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: schema.getType('Droid')\n            })).toBe('\"response_key\": propertyName.flatMap { $0.snapshot }');\n        });\n        it('should generate expression for non-null composite', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLNonNull(schema.getType('Droid'))\n            })).toBe('\"response_key\": propertyName.snapshot');\n        });\n        it('should generate expression for nullable list of nullable composites', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLList(schema.getType('Droid'))\n            })).toBe('\"response_key\": propertyName.flatMap { $0.map { $0.flatMap { $0.snapshot } } }');\n        });\n        it('should generate expression for nullable list of non-null composites', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(schema.getType('Droid')))\n            })).toBe('\"response_key\": propertyName.flatMap { $0.map { $0.snapshot } }');\n        });\n        it('should generate expression for non-null list of nullable composites', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(schema.getType('Droid')))\n            })).toBe('\"response_key\": propertyName.map { $0.flatMap { $0.snapshot } }');\n        });\n        it('should generate expression for non-null list of non-null composites', () => {\n            expect(generator.propertyAssignmentForField({\n                responseKey: 'response_key',\n                propertyName: 'propertyName',\n                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(schema.getType('Droid'))))\n            })).toBe('\"response_key\": propertyName.map { $0.snapshot }');\n        });\n    });\n    describe('#structDeclarationForFragment()', () => {\n        it(`should generate a struct declaration for a fragment with an abstract type condition`, () => {\n            const { fragments } = compile(`\n        fragment HeroDetails on Character {\n          name\n          appearsIn\n        }\n      `);\n            generator.structDeclarationForFragment(fragments['HeroDetails']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a fragment with a concrete type condition`, () => {\n            const { fragments } = compile(`\n        fragment DroidDetails on Droid {\n          name\n          primaryFunction\n        }\n      `);\n            generator.structDeclarationForFragment(fragments['DroidDetails']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a fragment with a subselection`, () => {\n            const { fragments } = compile(`\n        fragment HeroDetails on Character {\n          name\n          friends {\n            name\n          }\n        }\n      `);\n            generator.structDeclarationForFragment(fragments['HeroDetails']);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a fragment that includes a fragment spread`, () => {\n            const { fragments } = compile(`\n        fragment HeroDetails on Character {\n          name\n          ...MoreHeroDetails\n        }\n\n        fragment MoreHeroDetails on Character {\n          appearsIn\n        }\n      `);\n            generator.structDeclarationForFragment(fragments['HeroDetails']);\n            expect(generator.output).toMatchSnapshot();\n        });\n    });\n    describe('#structDeclarationForSelectionSet()', () => {\n        it(`should generate a struct declaration for a selection set`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            name\n          }\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should escape reserved keywords in a struct declaration for a selection set`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            private: name\n          }\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a nested struct declaration for a selection set with subselections`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            friends {\n              name\n            }\n          }\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a selection set with a fragment spread that matches the parent type`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            name\n            ...HeroDetails\n          }\n        }\n\n        fragment HeroDetails on Character {\n          name\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a selection set with a fragment spread with a more specific type condition`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            name\n            ...DroidDetails\n          }\n        }\n\n        fragment DroidDetails on Droid {\n          name\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a selection set with an inline fragment`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            name\n            ... on Droid {\n              primaryFunction\n            }\n          }\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a fragment spread nested in an inline fragment`, () => {\n            const { operations } = compile(`\n        query Hero {\n          hero {\n            name\n            ... on Droid {\n              ...HeroDetails\n            }\n          }\n        }\n\n        fragment HeroDetails on Character {\n          name\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n        it(`should generate a struct declaration for a selection set with a conditional field`, () => {\n            const { operations } = compile(`\n        query Hero($includeName: Boolean!) {\n          hero {\n            name @include(if: $includeName)\n          }\n        }\n      `);\n            const selectionSet = operations['Hero'].selectionSet.selections[0]\n                .selectionSet;\n            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });\n            expect(generator.output).toMatchSnapshot();\n        });\n    });\n    describe('#typeDeclarationForGraphQLType()', () => {\n        it('should generate an enum declaration for a GraphQLEnumType', () => {\n            generator.typeDeclarationForGraphQLType(schema.getType('Episode'));\n            expect(generator.output).toMatchSnapshot();\n        });\n        it('should escape identifiers in cases of enum declaration for a GraphQLEnumType', () => {\n            const albumPrivaciesEnum = new graphql_1.GraphQLEnumType({\n                name: 'AlbumPrivacies',\n                values: { PUBLIC: { value: 'PUBLIC' }, PRIVATE: { value: 'PRIVATE' } }\n            });\n            generator.typeDeclarationForGraphQLType(albumPrivaciesEnum);\n            expect(generator.output).toMatchSnapshot();\n        });\n        it('should generate a struct declaration for a GraphQLInputObjectType', () => {\n            generator.typeDeclarationForGraphQLType(schema.getType('ReviewInput'));\n            expect(generator.output).toMatchSnapshot();\n        });\n    });\n    describe('#dictionaryLiteralForFieldArguments()', () => {\n        it('should include expressions for input objects with variables', () => {\n            const { operations } = compile(`\n        mutation FieldArgumentsWithInputObjects($commentary: String!, $red: Int!) {\n          createReview(episode: JEDI, review: { stars: 2, commentary: $commentary, favorite_color: { red: $red, blue: 100, green: 50 } }) {\n            commentary\n          }\n        }\n      `);\n            const fieldArguments = operations['FieldArgumentsWithInputObjects'].selectionSet\n                .selections[0].args;\n            const dictionaryLiteral = generator.helpers.dictionaryLiteralForFieldArguments(fieldArguments);\n            expect(dictionaryLiteral).toBe('[\"episode\": \"JEDI\", \"review\": [\"stars\": 2, \"commentary\": GraphQLVariable(\"commentary\"), \"favorite_color\": [\"red\": GraphQLVariable(\"red\"), \"blue\": 100, \"green\": 50]]]');\n        });\n    });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZUdlbmVyYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjb2RlR2VuZXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFDQUE2RjtBQUU3RiwrQ0FBK0M7QUFDL0MsTUFBTSxNQUFNLEdBQUcsb0JBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGtDQUFrQyxDQUFDLENBQUMsQ0FBQztBQUUvRSxpREFPNEI7QUFFNUIsbUVBQW1FO0FBRW5FLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7SUFDckMsSUFBSSxTQUE0QixDQUFDO0lBRWpDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxTQUFTLEdBQUcsSUFBSSxrQ0FBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsQ0FBQztJQUVILGlCQUNFLE1BQWMsRUFDZCxVQUEyQixFQUFFLGdDQUFnQyxFQUFFLElBQUksRUFBRTtRQUVyRSxNQUFNLFFBQVEsR0FBRyxlQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0IsTUFBTSxPQUFPLEdBQUcsc0JBQVcsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZELFNBQVMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQzVCLE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxRQUFRLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQy9DLEVBQUUsQ0FBQyxnRUFBZ0UsRUFBRSxHQUFHLEVBQUU7WUFDeEUsTUFBTSxFQUFFLFVBQVUsRUFBRSxHQUFHLE9BQU8sQ0FBQzs7Ozs7O09BTTlCLENBQUMsQ0FBQztZQUVILFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUUvRCxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO1FB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Q0FBZ0MsQ0FBQyxDQUFDLFlBQVk7aUJBQzlFLFVBQVUsQ0FBQyxDQUFDLENBQVcsQ0FBQyxJQUFrQixDQUFDO1lBQzlDLE1BQU0saUJBQWlCLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUUvRixNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQzVCLHVLQUF1SyxDQUN4SyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2UsIEdyYXBoUUxOb25OdWxsLCBHcmFwaFFMU3RyaW5nLCBHcmFwaFFMRW51bVR5cGUsIEdyYXBoUUxMaXN0IH0gZnJvbSAnZ3JhcGhxbCc7XG5cbmltcG9ydCB7IGxvYWRTY2hlbWEgfSBmcm9tICcuLi8uLi9zcmMvbG9hZGluZyc7XG5jb25zdCBzY2hlbWEgPSBsb2FkU2NoZW1hKHJlcXVpcmUucmVzb2x2ZSgnLi4vZml4dHVyZXMvc3RhcndhcnMvc2NoZW1hLmpzb24nKSk7XG5cbmltcG9ydCB7XG4gIGNvbXBpbGVUb0lSLFxuICBDb21waWxlck9wdGlvbnMsXG4gIENvbXBpbGVyQ29udGV4dCxcbiAgU2VsZWN0aW9uU2V0LFxuICBGaWVsZCxcbiAgQXJndW1lbnRcbn0gZnJvbSAnLi4vLi4vc3JjL2NvbXBpbGVyJztcblxuaW1wb3J0IHsgU3dpZnRBUElHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9zcmMvc3dpZnQvY29kZUdlbmVyYXRpb24nO1xuXG5kZXNjcmliZSgnU3dpZnQgY29kZSBnZW5lcmF0aW9uJywgKCkgPT4ge1xuICBsZXQgZ2VuZXJhdG9yOiBTd2lmdEFQSUdlbmVyYXRvcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBnZW5lcmF0b3IgPSBuZXcgU3dpZnRBUElHZW5lcmF0b3Ioe30pO1xuICB9KTtcblxuICBmdW5jdGlvbiBjb21waWxlKFxuICAgIHNvdXJjZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IENvbXBpbGVyT3B0aW9ucyA9IHsgbWVyZ2VJbkZpZWxkc0Zyb21GcmFnbWVudFNwcmVhZHM6IHRydWUgfVxuICApOiBDb21waWxlckNvbnRleHQge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gcGFyc2Uoc291cmNlKTtcbiAgICBjb25zdCBjb250ZXh0ID0gY29tcGlsZVRvSVIoc2NoZW1hLCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gICAgZ2VuZXJhdG9yLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgZGVzY3JpYmUoJyNjbGFzc0RlY2xhcmF0aW9uRm9yT3BlcmF0aW9uKCknLCAoKSA9PiB7XG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIGNsYXNzIGRlY2xhcmF0aW9uIGZvciBhIHF1ZXJ5IHdpdGggdmFyaWFibGVzYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVyb05hbWUoJGVwaXNvZGU6IEVwaXNvZGUpIHtcbiAgICAgICAgICBoZXJvKGVwaXNvZGU6ICRlcGlzb2RlKSB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLmNsYXNzRGVjbGFyYXRpb25Gb3JPcGVyYXRpb24ob3BlcmF0aW9uc1snSGVyb05hbWUnXSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBjbGFzcyBkZWNsYXJhdGlvbiBmb3IgYSBxdWVyeSB3aXRoIGZyYWdtZW50IHNwcmVhZHNgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBnZW5lcmF0b3IuY2xhc3NEZWNsYXJhdGlvbkZvck9wZXJhdGlvbihvcGVyYXRpb25zWydIZXJvJ10pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG5cbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGEgY2xhc3MgZGVjbGFyYXRpb24gZm9yIGEgcXVlcnkgd2l0aCBjb25kaXRpb25hbCBmcmFnbWVudCBzcHJlYWRzYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICAuLi5Ecm9pZERldGFpbHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCBEcm9pZERldGFpbHMgb24gRHJvaWQge1xuICAgICAgICAgIHByaW1hcnlGdW5jdGlvblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLmNsYXNzRGVjbGFyYXRpb25Gb3JPcGVyYXRpb24ob3BlcmF0aW9uc1snSGVybyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIGNsYXNzIGRlY2xhcmF0aW9uIGZvciBhIHF1ZXJ5IHdpdGggYSBmcmFnbWVudCBzcHJlYWQgbmVzdGVkIGluIGFuIGlubGluZSBmcmFnbWVudGAsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShgXG4gICAgICAgIHF1ZXJ5IEhlcm8ge1xuICAgICAgICAgIGhlcm8ge1xuICAgICAgICAgICAgLi4uIG9uIERyb2lkIHtcbiAgICAgICAgICAgICAgLi4uSGVyb0RldGFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCBIZXJvRGV0YWlscyBvbiBDaGFyYWN0ZXIge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgfVxuICAgICAgYCk7XG5cbiAgICAgIGdlbmVyYXRvci5jbGFzc0RlY2xhcmF0aW9uRm9yT3BlcmF0aW9uKG9wZXJhdGlvbnNbJ0hlcm8nXSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBjbGFzcyBkZWNsYXJhdGlvbiBmb3IgYSBtdXRhdGlvbiB3aXRoIHZhcmlhYmxlc2AsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShgXG4gICAgICAgIG11dGF0aW9uIENyZWF0ZVJldmlldygkZXBpc29kZTogRXBpc29kZSkge1xuICAgICAgICAgIGNyZWF0ZVJldmlldyhlcGlzb2RlOiAkZXBpc29kZSwgcmV2aWV3OiB7IHN0YXJzOiA1LCBjb21tZW50YXJ5OiBcIldvdyFcIiB9KSB7XG4gICAgICAgICAgICBzdGFyc1xuICAgICAgICAgICAgY29tbWVudGFyeVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYCk7XG5cbiAgICAgIGdlbmVyYXRvci5jbGFzc0RlY2xhcmF0aW9uRm9yT3BlcmF0aW9uKG9wZXJhdGlvbnNbJ0NyZWF0ZVJldmlldyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIGNsYXNzIGRlY2xhcmF0aW9uIHdpdGggYW4gb3BlcmF0aW9uSWRlbnRpZmllciBwcm9wZXJ0eSB3aGVuIGdlbmVyYXRlT3BlcmF0aW9uSWRzIGlzIHNwZWNpZmllZGAsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShcbiAgICAgICAgYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyYWdtZW50IEhlcm9EZXRhaWxzIG9uIENoYXJhY3RlciB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgICB7IGdlbmVyYXRlT3BlcmF0aW9uSWRzOiB0cnVlLCBtZXJnZUluRmllbGRzRnJvbUZyYWdtZW50U3ByZWFkczogdHJ1ZSB9XG4gICAgICApO1xuXG4gICAgICBnZW5lcmF0b3IuY2xhc3NEZWNsYXJhdGlvbkZvck9wZXJhdGlvbihvcGVyYXRpb25zWydIZXJvJ10pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcjaW5pdGlhbGl6ZXJEZWNsYXJhdGlvbkZvclByb3BlcnRpZXMoKScsICgpID0+IHtcbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGluaXRpYWxpemVyIGZvciBhIHByb3BlcnR5YCwgKCkgPT4ge1xuICAgICAgZ2VuZXJhdG9yLmluaXRpYWxpemVyRGVjbGFyYXRpb25Gb3JQcm9wZXJ0aWVzKFt7IHByb3BlcnR5TmFtZTogJ2VwaXNvZGUnLCB0eXBlTmFtZTogJ0VwaXNvZGUnIH1dKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBpbml0aWFsaXplciBmb3IgYW4gb3B0aW9uYWwgcHJvcGVydHlgLCAoKSA9PiB7XG4gICAgICBnZW5lcmF0b3IuaW5pdGlhbGl6ZXJEZWNsYXJhdGlvbkZvclByb3BlcnRpZXMoW1xuICAgICAgICB7IHByb3BlcnR5TmFtZTogJ2VwaXNvZGUnLCB0eXBlTmFtZTogJ0VwaXNvZGU/JywgaXNPcHRpb25hbDogdHJ1ZSB9XG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBpbml0aWFsaXplciBmb3IgbXVsdGlwbGUgcHJvcGVydGllc2AsICgpID0+IHtcbiAgICAgIGdlbmVyYXRvci5pbml0aWFsaXplckRlY2xhcmF0aW9uRm9yUHJvcGVydGllcyhbXG4gICAgICAgIHsgcHJvcGVydHlOYW1lOiAnZXBpc29kZScsIHR5cGVOYW1lOiAnRXBpc29kZT8nLCBpc09wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgIHsgcHJvcGVydHlOYW1lOiAnc2NlbmUnLCB0eXBlTmFtZTogJ1N0cmluZz8nLCBpc09wdGlvbmFsOiB0cnVlIH1cbiAgICAgIF0pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcjcHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIHNjYWxhcicsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBHcmFwaFFMU3RyaW5nXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBub24tbnVsbCBzY2FsYXInLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBudWxsYWJsZSBsaXN0IG9mIG51bGxhYmxlIHNjYWxhcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBudWxsYWJsZSBsaXN0IG9mIG5vbi1udWxsIHNjYWxhcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxMaXN0KG5ldyBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG5vbi1udWxsIGxpc3Qgb2YgbnVsbGFibGUgc2NhbGFycycsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTE5vbk51bGwobmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXhwcmVzc2lvbiBmb3Igbm9uLW51bGwgbGlzdCBvZiBub24tbnVsbCBzY2FsYXJzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZW5lcmF0b3IucHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoe1xuICAgICAgICAgIHJlc3BvbnNlS2V5OiAncmVzcG9uc2Vfa2V5JyxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdwcm9wZXJ0eU5hbWUnLFxuICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIGNvbXBvc2l0ZScsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBzY2hlbWEuZ2V0VHlwZSgnRHJvaWQnKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUuZmxhdE1hcCB7ICQwLnNuYXBzaG90IH0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXhwcmVzc2lvbiBmb3Igbm9uLW51bGwgY29tcG9zaXRlJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZW5lcmF0b3IucHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoe1xuICAgICAgICAgIHJlc3BvbnNlS2V5OiAncmVzcG9uc2Vfa2V5JyxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdwcm9wZXJ0eU5hbWUnLFxuICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTm9uTnVsbChzY2hlbWEuZ2V0VHlwZSgnRHJvaWQnKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lLnNuYXBzaG90Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIGxpc3Qgb2YgbnVsbGFibGUgY29tcG9zaXRlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3Qoc2NoZW1hLmdldFR5cGUoJ0Ryb2lkJykpXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZS5mbGF0TWFwIHsgJDAubWFwIHsgJDAuZmxhdE1hcCB7ICQwLnNuYXBzaG90IH0gfSB9Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIGxpc3Qgb2Ygbm9uLW51bGwgY29tcG9zaXRlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxOb25OdWxsKHNjaGVtYS5nZXRUeXBlKCdEcm9pZCcpKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lLmZsYXRNYXAgeyAkMC5tYXAgeyAkMC5zbmFwc2hvdCB9IH0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXhwcmVzc2lvbiBmb3Igbm9uLW51bGwgbGlzdCBvZiBudWxsYWJsZSBjb21wb3NpdGVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZW5lcmF0b3IucHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoe1xuICAgICAgICAgIHJlc3BvbnNlS2V5OiAncmVzcG9uc2Vfa2V5JyxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdwcm9wZXJ0eU5hbWUnLFxuICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3Qoc2NoZW1hLmdldFR5cGUoJ0Ryb2lkJykpKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUubWFwIHsgJDAuZmxhdE1hcCB7ICQwLnNuYXBzaG90IH0gfScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBub24tbnVsbCBsaXN0IG9mIG5vbi1udWxsIGNvbXBvc2l0ZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxOb25OdWxsKG5ldyBHcmFwaFFMTGlzdChuZXcgR3JhcGhRTE5vbk51bGwoc2NoZW1hLmdldFR5cGUoJ0Ryb2lkJykpKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUubWFwIHsgJDAuc25hcHNob3QgfScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI3N0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoKScsICgpID0+IHtcbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGEgc3RydWN0IGRlY2xhcmF0aW9uIGZvciBhIGZyYWdtZW50IHdpdGggYW4gYWJzdHJhY3QgdHlwZSBjb25kaXRpb25gLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGZyYWdtZW50cyB9ID0gY29tcGlsZShgXG4gICAgICAgIGZyYWdtZW50IEhlcm9EZXRhaWxzIG9uIENoYXJhY3RlciB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIGFwcGVhcnNJblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydIZXJvRGV0YWlscyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBmcmFnbWVudCB3aXRoIGEgY29uY3JldGUgdHlwZSBjb25kaXRpb25gLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGZyYWdtZW50cyB9ID0gY29tcGlsZShgXG4gICAgICAgIGZyYWdtZW50IERyb2lkRGV0YWlscyBvbiBEcm9pZCB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIHByaW1hcnlGdW5jdGlvblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydEcm9pZERldGFpbHMnXSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgZnJhZ21lbnQgd2l0aCBhIHN1YnNlbGVjdGlvbmAsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZnJhZ21lbnRzIH0gPSBjb21waWxlKGBcbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgZnJpZW5kcyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydIZXJvRGV0YWlscyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBmcmFnbWVudCB0aGF0IGluY2x1ZGVzIGEgZnJhZ21lbnQgc3ByZWFkYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBmcmFnbWVudHMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBmcmFnbWVudCBIZXJvRGV0YWlscyBvbiBDaGFyYWN0ZXIge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgICAuLi5Nb3JlSGVyb0RldGFpbHNcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYWdtZW50IE1vcmVIZXJvRGV0YWlscyBvbiBDaGFyYWN0ZXIge1xuICAgICAgICAgIGFwcGVhcnNJblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydIZXJvRGV0YWlscyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI3N0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KCknLCAoKSA9PiB7XG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0YCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uU2V0ID0gKG9wZXJhdGlvbnNbJ0hlcm8nXS5zZWxlY3Rpb25TZXQuc2VsZWN0aW9uc1swXSBhcyBGaWVsZClcbiAgICAgICAgLnNlbGVjdGlvblNldCBhcyBTZWxlY3Rpb25TZXQ7XG5cbiAgICAgIGdlbmVyYXRvci5zdHJ1Y3REZWNsYXJhdGlvbkZvclNlbGVjdGlvblNldCh7IHN0cnVjdE5hbWU6ICdIZXJvJywgc2VsZWN0aW9uU2V0IH0pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG5cbiAgICBpdChgc2hvdWxkIGVzY2FwZSByZXNlcnZlZCBrZXl3b3JkcyBpbiBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0YCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBwcml2YXRlOiBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uU2V0ID0gKG9wZXJhdGlvbnNbJ0hlcm8nXS5zZWxlY3Rpb25TZXQuc2VsZWN0aW9uc1swXSBhcyBGaWVsZClcbiAgICAgICAgLnNlbGVjdGlvblNldCBhcyBTZWxlY3Rpb25TZXQ7XG5cbiAgICAgIGdlbmVyYXRvci5zdHJ1Y3REZWNsYXJhdGlvbkZvclNlbGVjdGlvblNldCh7IHN0cnVjdE5hbWU6ICdIZXJvJywgc2VsZWN0aW9uU2V0IH0pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG5cbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGEgbmVzdGVkIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0IHdpdGggc3Vic2VsZWN0aW9uc2AsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShgXG4gICAgICAgIHF1ZXJ5IEhlcm8ge1xuICAgICAgICAgIGhlcm8ge1xuICAgICAgICAgICAgZnJpZW5kcyB7XG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgc2VsZWN0aW9uIHNldCB3aXRoIGEgZnJhZ21lbnQgc3ByZWFkIHRoYXQgbWF0Y2hlcyB0aGUgcGFyZW50IHR5cGVgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgc2VsZWN0aW9uIHNldCB3aXRoIGEgZnJhZ21lbnQgc3ByZWFkIHdpdGggYSBtb3JlIHNwZWNpZmljIHR5cGUgY29uZGl0aW9uYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAuLi5Ecm9pZERldGFpbHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCBEcm9pZERldGFpbHMgb24gRHJvaWQge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgfVxuICAgICAgYCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGlvblNldCA9IChvcGVyYXRpb25zWydIZXJvJ10uc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnNbMF0gYXMgRmllbGQpXG4gICAgICAgIC5zZWxlY3Rpb25TZXQgYXMgU2VsZWN0aW9uU2V0O1xuXG4gICAgICBnZW5lcmF0b3Iuc3RydWN0RGVjbGFyYXRpb25Gb3JTZWxlY3Rpb25TZXQoeyBzdHJ1Y3ROYW1lOiAnSGVybycsIHNlbGVjdGlvblNldCB9KTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0IHdpdGggYW4gaW5saW5lIGZyYWdtZW50YCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAuLi4gb24gRHJvaWQge1xuICAgICAgICAgICAgICBwcmltYXJ5RnVuY3Rpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgZnJhZ21lbnQgc3ByZWFkIG5lc3RlZCBpbiBhbiBpbmxpbmUgZnJhZ21lbnRgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIC4uLiBvbiBEcm9pZCB7XG4gICAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgc2VsZWN0aW9uIHNldCB3aXRoIGEgY29uZGl0aW9uYWwgZmllbGRgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvKCRpbmNsdWRlTmFtZTogQm9vbGVhbiEpIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIG5hbWUgQGluY2x1ZGUoaWY6ICRpbmNsdWRlTmFtZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJyN0eXBlRGVjbGFyYXRpb25Gb3JHcmFwaFFMVHlwZSgpJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYW4gZW51bSBkZWNsYXJhdGlvbiBmb3IgYSBHcmFwaFFMRW51bVR5cGUnLCAoKSA9PiB7XG4gICAgICBnZW5lcmF0b3IudHlwZURlY2xhcmF0aW9uRm9yR3JhcGhRTFR5cGUoc2NoZW1hLmdldFR5cGUoJ0VwaXNvZGUnKSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXNjYXBlIGlkZW50aWZpZXJzIGluIGNhc2VzIG9mIGVudW0gZGVjbGFyYXRpb24gZm9yIGEgR3JhcGhRTEVudW1UeXBlJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWxidW1Qcml2YWNpZXNFbnVtID0gbmV3IEdyYXBoUUxFbnVtVHlwZSh7XG4gICAgICAgIG5hbWU6ICdBbGJ1bVByaXZhY2llcycsXG4gICAgICAgIHZhbHVlczogeyBQVUJMSUM6IHsgdmFsdWU6ICdQVUJMSUMnIH0sIFBSSVZBVEU6IHsgdmFsdWU6ICdQUklWQVRFJyB9IH1cbiAgICAgIH0pO1xuXG4gICAgICBnZW5lcmF0b3IudHlwZURlY2xhcmF0aW9uRm9yR3JhcGhRTFR5cGUoYWxidW1Qcml2YWNpZXNFbnVtKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBHcmFwaFFMSW5wdXRPYmplY3RUeXBlJywgKCkgPT4ge1xuICAgICAgZ2VuZXJhdG9yLnR5cGVEZWNsYXJhdGlvbkZvckdyYXBoUUxUeXBlKHNjaGVtYS5nZXRUeXBlKCdSZXZpZXdJbnB1dCcpKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI2RpY3Rpb25hcnlMaXRlcmFsRm9yRmllbGRBcmd1bWVudHMoKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgZXhwcmVzc2lvbnMgZm9yIGlucHV0IG9iamVjdHMgd2l0aCB2YXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBtdXRhdGlvbiBGaWVsZEFyZ3VtZW50c1dpdGhJbnB1dE9iamVjdHMoJGNvbW1lbnRhcnk6IFN0cmluZyEsICRyZWQ6IEludCEpIHtcbiAgICAgICAgICBjcmVhdGVSZXZpZXcoZXBpc29kZTogSkVESSwgcmV2aWV3OiB7IHN0YXJzOiAyLCBjb21tZW50YXJ5OiAkY29tbWVudGFyeSwgZmF2b3JpdGVfY29sb3I6IHsgcmVkOiAkcmVkLCBibHVlOiAxMDAsIGdyZWVuOiA1MCB9IH0pIHtcbiAgICAgICAgICAgIGNvbW1lbnRhcnlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBmaWVsZEFyZ3VtZW50cyA9IChvcGVyYXRpb25zWydGaWVsZEFyZ3VtZW50c1dpdGhJbnB1dE9iamVjdHMnXS5zZWxlY3Rpb25TZXRcbiAgICAgICAgLnNlbGVjdGlvbnNbMF0gYXMgRmllbGQpLmFyZ3MgYXMgQXJndW1lbnRbXTtcbiAgICAgIGNvbnN0IGRpY3Rpb25hcnlMaXRlcmFsID0gZ2VuZXJhdG9yLmhlbHBlcnMuZGljdGlvbmFyeUxpdGVyYWxGb3JGaWVsZEFyZ3VtZW50cyhmaWVsZEFyZ3VtZW50cyk7XG5cbiAgICAgIGV4cGVjdChkaWN0aW9uYXJ5TGl0ZXJhbCkudG9CZShcbiAgICAgICAgJ1tcImVwaXNvZGVcIjogXCJKRURJXCIsIFwicmV2aWV3XCI6IFtcInN0YXJzXCI6IDIsIFwiY29tbWVudGFyeVwiOiBHcmFwaFFMVmFyaWFibGUoXCJjb21tZW50YXJ5XCIpLCBcImZhdm9yaXRlX2NvbG9yXCI6IFtcInJlZFwiOiBHcmFwaFFMVmFyaWFibGUoXCJyZWRcIiksIFwiYmx1ZVwiOiAxMDAsIFwiZ3JlZW5cIjogNTBdXV0nXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19");"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
const loading_1 = require("../../src/loading");
const schema = loading_1.loadSchema(require.resolve('../fixtures/starwars/schema.json'));
const compiler_1 = require("../../src/compiler");
const codeGeneration_1 = require("../../src/swift/codeGeneration");
describe('Swift code generation', () => {
    let generator;
    beforeEach(() => {
        generator = new codeGeneration_1.SwiftAPIGenerator({});
    });
    function compile(source, options = { mergeInFieldsFromFragmentSpreads: true }) {
        const document = graphql_1.parse(source);
        const context = compiler_1.compileToIR(schema, document, options);
        generator.context = context;
        return context;
    }
    describe('#classDeclarationForOperation()', () => {
        it(`should generate a class declaration for a query with variables`, () => {
            const { operations } = compile(`
        query HeroName($episode: Episode) {
          hero(episode: $episode) {
            name
          }
        }
      `);
            generator.classDeclarationForOperation(operations['HeroName']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a class declaration for a query with fragment spreads`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            ...HeroDetails
          }
        }

        fragment HeroDetails on Character {
          name
        }
      `);
            generator.classDeclarationForOperation(operations['Hero']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a class declaration for a query with conditional fragment spreads`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            ...DroidDetails
          }
        }

        fragment DroidDetails on Droid {
          primaryFunction
        }
      `);
            generator.classDeclarationForOperation(operations['Hero']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a class declaration for a query with a fragment spread nested in an inline fragment`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            ... on Droid {
              ...HeroDetails
            }
          }
        }

        fragment HeroDetails on Character {
          name
        }
      `);
            generator.classDeclarationForOperation(operations['Hero']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a class declaration for a mutation with variables`, () => {
            const { operations } = compile(`
        mutation CreateReview($episode: Episode) {
          createReview(episode: $episode, review: { stars: 5, commentary: "Wow!" }) {
            stars
            commentary
          }
        }
      `);
            generator.classDeclarationForOperation(operations['CreateReview']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a class declaration with an operationIdentifier property when generateOperationIds is specified`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            ...HeroDetails
          }
        }
        fragment HeroDetails on Character {
          name
        }
      `, { generateOperationIds: true, mergeInFieldsFromFragmentSpreads: true });
            generator.classDeclarationForOperation(operations['Hero']);
            expect(generator.output).toMatchSnapshot();
        });
    });
    describe('#initializerDeclarationForProperties()', () => {
        it(`should generate initializer for a property`, () => {
            generator.initializerDeclarationForProperties([{ propertyName: 'episode', typeName: 'Episode' }]);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate initializer for an optional property`, () => {
            generator.initializerDeclarationForProperties([
            { propertyName: 'episode', typeName: 'Episode?', isOptional: true }]);

            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate initializer for multiple properties`, () => {
            generator.initializerDeclarationForProperties([
            { propertyName: 'episode', typeName: 'Episode?', isOptional: true },
            { propertyName: 'scene', typeName: 'String?', isOptional: true }]);

            expect(generator.output).toMatchSnapshot();
        });
    });
    describe('#propertyAssignmentForField()', () => {
        it('should generate expression for nullable scalar', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: graphql_1.GraphQLString })).
            toBe('"response_key": propertyName');
        });
        it('should generate expression for non-null scalar', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLNonNull(graphql_1.GraphQLString) })).
            toBe('"response_key": propertyName');
        });
        it('should generate expression for nullable list of nullable scalars', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLList(graphql_1.GraphQLString) })).
            toBe('"response_key": propertyName');
        });
        it('should generate expression for nullable list of non-null scalars', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString)) })).
            toBe('"response_key": propertyName');
        });
        it('should generate expression for non-null list of nullable scalars', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(graphql_1.GraphQLString)) })).
            toBe('"response_key": propertyName');
        });
        it('should generate expression for non-null list of non-null scalars', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString))) })).
            toBe('"response_key": propertyName');
        });
        it('should generate expression for nullable composite', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: schema.getType('Droid') })).
            toBe('"response_key": propertyName.flatMap { $0.snapshot }');
        });
        it('should generate expression for non-null composite', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLNonNull(schema.getType('Droid')) })).
            toBe('"response_key": propertyName.snapshot');
        });
        it('should generate expression for nullable list of nullable composites', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLList(schema.getType('Droid')) })).
            toBe('"response_key": propertyName.flatMap { $0.map { $0.flatMap { $0.snapshot } } }');
        });
        it('should generate expression for nullable list of non-null composites', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(schema.getType('Droid'))) })).
            toBe('"response_key": propertyName.flatMap { $0.map { $0.snapshot } }');
        });
        it('should generate expression for non-null list of nullable composites', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(schema.getType('Droid'))) })).
            toBe('"response_key": propertyName.map { $0.flatMap { $0.snapshot } }');
        });
        it('should generate expression for non-null list of non-null composites', () => {
            expect(generator.propertyAssignmentForField({
                responseKey: 'response_key',
                propertyName: 'propertyName',
                type: new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(schema.getType('Droid')))) })).
            toBe('"response_key": propertyName.map { $0.snapshot }');
        });
    });
    describe('#structDeclarationForFragment()', () => {
        it(`should generate a struct declaration for a fragment with an abstract type condition`, () => {
            const { fragments } = compile(`
        fragment HeroDetails on Character {
          name
          appearsIn
        }
      `);
            generator.structDeclarationForFragment(fragments['HeroDetails']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a fragment with a concrete type condition`, () => {
            const { fragments } = compile(`
        fragment DroidDetails on Droid {
          name
          primaryFunction
        }
      `);
            generator.structDeclarationForFragment(fragments['DroidDetails']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a fragment with a subselection`, () => {
            const { fragments } = compile(`
        fragment HeroDetails on Character {
          name
          friends {
            name
          }
        }
      `);
            generator.structDeclarationForFragment(fragments['HeroDetails']);
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a fragment that includes a fragment spread`, () => {
            const { fragments } = compile(`
        fragment HeroDetails on Character {
          name
          ...MoreHeroDetails
        }

        fragment MoreHeroDetails on Character {
          appearsIn
        }
      `);
            generator.structDeclarationForFragment(fragments['HeroDetails']);
            expect(generator.output).toMatchSnapshot();
        });
    });
    describe('#structDeclarationForSelectionSet()', () => {
        it(`should generate a struct declaration for a selection set`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            name
          }
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should escape reserved keywords in a struct declaration for a selection set`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            private: name
          }
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a nested struct declaration for a selection set with subselections`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            friends {
              name
            }
          }
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a selection set with a fragment spread that matches the parent type`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            name
            ...HeroDetails
          }
        }

        fragment HeroDetails on Character {
          name
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a selection set with a fragment spread with a more specific type condition`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            name
            ...DroidDetails
          }
        }

        fragment DroidDetails on Droid {
          name
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a selection set with an inline fragment`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            name
            ... on Droid {
              primaryFunction
            }
          }
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a fragment spread nested in an inline fragment`, () => {
            const { operations } = compile(`
        query Hero {
          hero {
            name
            ... on Droid {
              ...HeroDetails
            }
          }
        }

        fragment HeroDetails on Character {
          name
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
        it(`should generate a struct declaration for a selection set with a conditional field`, () => {
            const { operations } = compile(`
        query Hero($includeName: Boolean!) {
          hero {
            name @include(if: $includeName)
          }
        }
      `);
            const selectionSet = operations['Hero'].selectionSet.selections[0].
            selectionSet;
            generator.structDeclarationForSelectionSet({ structName: 'Hero', selectionSet });
            expect(generator.output).toMatchSnapshot();
        });
    });
    describe('#typeDeclarationForGraphQLType()', () => {
        it('should generate an enum declaration for a GraphQLEnumType', () => {
            generator.typeDeclarationForGraphQLType(schema.getType('Episode'));
            expect(generator.output).toMatchSnapshot();
        });
        it('should escape identifiers in cases of enum declaration for a GraphQLEnumType', () => {
            const albumPrivaciesEnum = new graphql_1.GraphQLEnumType({
                name: 'AlbumPrivacies',
                values: { PUBLIC: { value: 'PUBLIC' }, PRIVATE: { value: 'PRIVATE' } } });

            generator.typeDeclarationForGraphQLType(albumPrivaciesEnum);
            expect(generator.output).toMatchSnapshot();
        });
        it('should generate a struct declaration for a GraphQLInputObjectType', () => {
            generator.typeDeclarationForGraphQLType(schema.getType('ReviewInput'));
            expect(generator.output).toMatchSnapshot();
        });
    });
    describe('#dictionaryLiteralForFieldArguments()', () => {
        it('should include expressions for input objects with variables', () => {
            const { operations } = compile(`
        mutation FieldArgumentsWithInputObjects($commentary: String!, $red: Int!) {
          createReview(episode: JEDI, review: { stars: 2, commentary: $commentary, favorite_color: { red: $red, blue: 100, green: 50 } }) {
            commentary
          }
        }
      `);
            const fieldArguments = operations['FieldArgumentsWithInputObjects'].selectionSet.
            selections[0].args;
            const dictionaryLiteral = generator.helpers.dictionaryLiteralForFieldArguments(fieldArguments);
            expect(dictionaryLiteral).toBe('["episode": "JEDI", "review": ["stars": 2, "commentary": GraphQLVariable("commentary"), "favorite_color": ["red": GraphQLVariable("red"), "blue": 100, "green": 50]]]');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDckUsa0JBQU0sRUFBRSxVQUFGLEtBQWlCLFFBQVE7Ozs7OztPQUFSLENBQXZCO0FBUUEsa0JBQU0saUJBQWtCLFdBQVcsZ0NBQVgsRUFBNkMsWUFBN0M7QUFDckIsc0JBRHFCLENBQ1YsQ0FEVSxFQUNHLElBRDNCO0FBRUEsa0JBQU0sb0JBQW9CLFVBQVUsT0FBVixDQUFrQixrQ0FBbEIsQ0FBcUQsY0FBckQsQ0FBMUI7QUFFQSxtQkFBTyxpQkFBUCxFQUEwQixJQUExQixDQUNFLHVLQURGO0FBR0QsU0FoQkQ7QUFpQkQsS0FsQkQ7QUFtQkQsQ0F2aEJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2UsIEdyYXBoUUxOb25OdWxsLCBHcmFwaFFMU3RyaW5nLCBHcmFwaFFMRW51bVR5cGUsIEdyYXBoUUxMaXN0IH0gZnJvbSAnZ3JhcGhxbCc7XG5cbmltcG9ydCB7IGxvYWRTY2hlbWEgfSBmcm9tICcuLi8uLi9zcmMvbG9hZGluZyc7XG5jb25zdCBzY2hlbWEgPSBsb2FkU2NoZW1hKHJlcXVpcmUucmVzb2x2ZSgnLi4vZml4dHVyZXMvc3RhcndhcnMvc2NoZW1hLmpzb24nKSk7XG5cbmltcG9ydCB7XG4gIGNvbXBpbGVUb0lSLFxuICBDb21waWxlck9wdGlvbnMsXG4gIENvbXBpbGVyQ29udGV4dCxcbiAgU2VsZWN0aW9uU2V0LFxuICBGaWVsZCxcbiAgQXJndW1lbnRcbn0gZnJvbSAnLi4vLi4vc3JjL2NvbXBpbGVyJztcblxuaW1wb3J0IHsgU3dpZnRBUElHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9zcmMvc3dpZnQvY29kZUdlbmVyYXRpb24nO1xuXG5kZXNjcmliZSgnU3dpZnQgY29kZSBnZW5lcmF0aW9uJywgKCkgPT4ge1xuICBsZXQgZ2VuZXJhdG9yOiBTd2lmdEFQSUdlbmVyYXRvcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBnZW5lcmF0b3IgPSBuZXcgU3dpZnRBUElHZW5lcmF0b3Ioe30pO1xuICB9KTtcblxuICBmdW5jdGlvbiBjb21waWxlKFxuICAgIHNvdXJjZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IENvbXBpbGVyT3B0aW9ucyA9IHsgbWVyZ2VJbkZpZWxkc0Zyb21GcmFnbWVudFNwcmVhZHM6IHRydWUgfVxuICApOiBDb21waWxlckNvbnRleHQge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gcGFyc2Uoc291cmNlKTtcbiAgICBjb25zdCBjb250ZXh0ID0gY29tcGlsZVRvSVIoc2NoZW1hLCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gICAgZ2VuZXJhdG9yLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgZGVzY3JpYmUoJyNjbGFzc0RlY2xhcmF0aW9uRm9yT3BlcmF0aW9uKCknLCAoKSA9PiB7XG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIGNsYXNzIGRlY2xhcmF0aW9uIGZvciBhIHF1ZXJ5IHdpdGggdmFyaWFibGVzYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVyb05hbWUoJGVwaXNvZGU6IEVwaXNvZGUpIHtcbiAgICAgICAgICBoZXJvKGVwaXNvZGU6ICRlcGlzb2RlKSB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLmNsYXNzRGVjbGFyYXRpb25Gb3JPcGVyYXRpb24ob3BlcmF0aW9uc1snSGVyb05hbWUnXSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBjbGFzcyBkZWNsYXJhdGlvbiBmb3IgYSBxdWVyeSB3aXRoIGZyYWdtZW50IHNwcmVhZHNgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBnZW5lcmF0b3IuY2xhc3NEZWNsYXJhdGlvbkZvck9wZXJhdGlvbihvcGVyYXRpb25zWydIZXJvJ10pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG5cbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGEgY2xhc3MgZGVjbGFyYXRpb24gZm9yIGEgcXVlcnkgd2l0aCBjb25kaXRpb25hbCBmcmFnbWVudCBzcHJlYWRzYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICAuLi5Ecm9pZERldGFpbHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCBEcm9pZERldGFpbHMgb24gRHJvaWQge1xuICAgICAgICAgIHByaW1hcnlGdW5jdGlvblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLmNsYXNzRGVjbGFyYXRpb25Gb3JPcGVyYXRpb24ob3BlcmF0aW9uc1snSGVybyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIGNsYXNzIGRlY2xhcmF0aW9uIGZvciBhIHF1ZXJ5IHdpdGggYSBmcmFnbWVudCBzcHJlYWQgbmVzdGVkIGluIGFuIGlubGluZSBmcmFnbWVudGAsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShgXG4gICAgICAgIHF1ZXJ5IEhlcm8ge1xuICAgICAgICAgIGhlcm8ge1xuICAgICAgICAgICAgLi4uIG9uIERyb2lkIHtcbiAgICAgICAgICAgICAgLi4uSGVyb0RldGFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCBIZXJvRGV0YWlscyBvbiBDaGFyYWN0ZXIge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgfVxuICAgICAgYCk7XG5cbiAgICAgIGdlbmVyYXRvci5jbGFzc0RlY2xhcmF0aW9uRm9yT3BlcmF0aW9uKG9wZXJhdGlvbnNbJ0hlcm8nXSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBjbGFzcyBkZWNsYXJhdGlvbiBmb3IgYSBtdXRhdGlvbiB3aXRoIHZhcmlhYmxlc2AsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShgXG4gICAgICAgIG11dGF0aW9uIENyZWF0ZVJldmlldygkZXBpc29kZTogRXBpc29kZSkge1xuICAgICAgICAgIGNyZWF0ZVJldmlldyhlcGlzb2RlOiAkZXBpc29kZSwgcmV2aWV3OiB7IHN0YXJzOiA1LCBjb21tZW50YXJ5OiBcIldvdyFcIiB9KSB7XG4gICAgICAgICAgICBzdGFyc1xuICAgICAgICAgICAgY29tbWVudGFyeVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYCk7XG5cbiAgICAgIGdlbmVyYXRvci5jbGFzc0RlY2xhcmF0aW9uRm9yT3BlcmF0aW9uKG9wZXJhdGlvbnNbJ0NyZWF0ZVJldmlldyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIGNsYXNzIGRlY2xhcmF0aW9uIHdpdGggYW4gb3BlcmF0aW9uSWRlbnRpZmllciBwcm9wZXJ0eSB3aGVuIGdlbmVyYXRlT3BlcmF0aW9uSWRzIGlzIHNwZWNpZmllZGAsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShcbiAgICAgICAgYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyYWdtZW50IEhlcm9EZXRhaWxzIG9uIENoYXJhY3RlciB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgICB7IGdlbmVyYXRlT3BlcmF0aW9uSWRzOiB0cnVlLCBtZXJnZUluRmllbGRzRnJvbUZyYWdtZW50U3ByZWFkczogdHJ1ZSB9XG4gICAgICApO1xuXG4gICAgICBnZW5lcmF0b3IuY2xhc3NEZWNsYXJhdGlvbkZvck9wZXJhdGlvbihvcGVyYXRpb25zWydIZXJvJ10pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcjaW5pdGlhbGl6ZXJEZWNsYXJhdGlvbkZvclByb3BlcnRpZXMoKScsICgpID0+IHtcbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGluaXRpYWxpemVyIGZvciBhIHByb3BlcnR5YCwgKCkgPT4ge1xuICAgICAgZ2VuZXJhdG9yLmluaXRpYWxpemVyRGVjbGFyYXRpb25Gb3JQcm9wZXJ0aWVzKFt7IHByb3BlcnR5TmFtZTogJ2VwaXNvZGUnLCB0eXBlTmFtZTogJ0VwaXNvZGUnIH1dKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBpbml0aWFsaXplciBmb3IgYW4gb3B0aW9uYWwgcHJvcGVydHlgLCAoKSA9PiB7XG4gICAgICBnZW5lcmF0b3IuaW5pdGlhbGl6ZXJEZWNsYXJhdGlvbkZvclByb3BlcnRpZXMoW1xuICAgICAgICB7IHByb3BlcnR5TmFtZTogJ2VwaXNvZGUnLCB0eXBlTmFtZTogJ0VwaXNvZGU/JywgaXNPcHRpb25hbDogdHJ1ZSB9XG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBpbml0aWFsaXplciBmb3IgbXVsdGlwbGUgcHJvcGVydGllc2AsICgpID0+IHtcbiAgICAgIGdlbmVyYXRvci5pbml0aWFsaXplckRlY2xhcmF0aW9uRm9yUHJvcGVydGllcyhbXG4gICAgICAgIHsgcHJvcGVydHlOYW1lOiAnZXBpc29kZScsIHR5cGVOYW1lOiAnRXBpc29kZT8nLCBpc09wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgIHsgcHJvcGVydHlOYW1lOiAnc2NlbmUnLCB0eXBlTmFtZTogJ1N0cmluZz8nLCBpc09wdGlvbmFsOiB0cnVlIH1cbiAgICAgIF0pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcjcHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIHNjYWxhcicsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBHcmFwaFFMU3RyaW5nXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBub24tbnVsbCBzY2FsYXInLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBudWxsYWJsZSBsaXN0IG9mIG51bGxhYmxlIHNjYWxhcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBudWxsYWJsZSBsaXN0IG9mIG5vbi1udWxsIHNjYWxhcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxMaXN0KG5ldyBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG5vbi1udWxsIGxpc3Qgb2YgbnVsbGFibGUgc2NhbGFycycsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTE5vbk51bGwobmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXhwcmVzc2lvbiBmb3Igbm9uLW51bGwgbGlzdCBvZiBub24tbnVsbCBzY2FsYXJzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZW5lcmF0b3IucHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoe1xuICAgICAgICAgIHJlc3BvbnNlS2V5OiAncmVzcG9uc2Vfa2V5JyxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdwcm9wZXJ0eU5hbWUnLFxuICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIGNvbXBvc2l0ZScsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBzY2hlbWEuZ2V0VHlwZSgnRHJvaWQnKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUuZmxhdE1hcCB7ICQwLnNuYXBzaG90IH0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXhwcmVzc2lvbiBmb3Igbm9uLW51bGwgY29tcG9zaXRlJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZW5lcmF0b3IucHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoe1xuICAgICAgICAgIHJlc3BvbnNlS2V5OiAncmVzcG9uc2Vfa2V5JyxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdwcm9wZXJ0eU5hbWUnLFxuICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTm9uTnVsbChzY2hlbWEuZ2V0VHlwZSgnRHJvaWQnKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lLnNuYXBzaG90Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIGxpc3Qgb2YgbnVsbGFibGUgY29tcG9zaXRlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3Qoc2NoZW1hLmdldFR5cGUoJ0Ryb2lkJykpXG4gICAgICAgIH0pXG4gICAgICApLnRvQmUoJ1wicmVzcG9uc2Vfa2V5XCI6IHByb3BlcnR5TmFtZS5mbGF0TWFwIHsgJDAubWFwIHsgJDAuZmxhdE1hcCB7ICQwLnNuYXBzaG90IH0gfSB9Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGV4cHJlc3Npb24gZm9yIG51bGxhYmxlIGxpc3Qgb2Ygbm9uLW51bGwgY29tcG9zaXRlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2VuZXJhdG9yLnByb3BlcnR5QXNzaWdubWVudEZvckZpZWxkKHtcbiAgICAgICAgICByZXNwb25zZUtleTogJ3Jlc3BvbnNlX2tleScsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiAncHJvcGVydHlOYW1lJyxcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxOb25OdWxsKHNjaGVtYS5nZXRUeXBlKCdEcm9pZCcpKSlcbiAgICAgICAgfSlcbiAgICAgICkudG9CZSgnXCJyZXNwb25zZV9rZXlcIjogcHJvcGVydHlOYW1lLmZsYXRNYXAgeyAkMC5tYXAgeyAkMC5zbmFwc2hvdCB9IH0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXhwcmVzc2lvbiBmb3Igbm9uLW51bGwgbGlzdCBvZiBudWxsYWJsZSBjb21wb3NpdGVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZW5lcmF0b3IucHJvcGVydHlBc3NpZ25tZW50Rm9yRmllbGQoe1xuICAgICAgICAgIHJlc3BvbnNlS2V5OiAncmVzcG9uc2Vfa2V5JyxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdwcm9wZXJ0eU5hbWUnLFxuICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3Qoc2NoZW1hLmdldFR5cGUoJ0Ryb2lkJykpKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUubWFwIHsgJDAuZmxhdE1hcCB7ICQwLnNuYXBzaG90IH0gfScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBleHByZXNzaW9uIGZvciBub24tbnVsbCBsaXN0IG9mIG5vbi1udWxsIGNvbXBvc2l0ZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGdlbmVyYXRvci5wcm9wZXJ0eUFzc2lnbm1lbnRGb3JGaWVsZCh7XG4gICAgICAgICAgcmVzcG9uc2VLZXk6ICdyZXNwb25zZV9rZXknLFxuICAgICAgICAgIHByb3BlcnR5TmFtZTogJ3Byb3BlcnR5TmFtZScsXG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxOb25OdWxsKG5ldyBHcmFwaFFMTGlzdChuZXcgR3JhcGhRTE5vbk51bGwoc2NoZW1hLmdldFR5cGUoJ0Ryb2lkJykpKVxuICAgICAgICB9KVxuICAgICAgKS50b0JlKCdcInJlc3BvbnNlX2tleVwiOiBwcm9wZXJ0eU5hbWUubWFwIHsgJDAuc25hcHNob3QgfScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI3N0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoKScsICgpID0+IHtcbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGEgc3RydWN0IGRlY2xhcmF0aW9uIGZvciBhIGZyYWdtZW50IHdpdGggYW4gYWJzdHJhY3QgdHlwZSBjb25kaXRpb25gLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGZyYWdtZW50cyB9ID0gY29tcGlsZShgXG4gICAgICAgIGZyYWdtZW50IEhlcm9EZXRhaWxzIG9uIENoYXJhY3RlciB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIGFwcGVhcnNJblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydIZXJvRGV0YWlscyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBmcmFnbWVudCB3aXRoIGEgY29uY3JldGUgdHlwZSBjb25kaXRpb25gLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGZyYWdtZW50cyB9ID0gY29tcGlsZShgXG4gICAgICAgIGZyYWdtZW50IERyb2lkRGV0YWlscyBvbiBEcm9pZCB7XG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIHByaW1hcnlGdW5jdGlvblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydEcm9pZERldGFpbHMnXSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgZnJhZ21lbnQgd2l0aCBhIHN1YnNlbGVjdGlvbmAsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZnJhZ21lbnRzIH0gPSBjb21waWxlKGBcbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgZnJpZW5kcyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydIZXJvRGV0YWlscyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBmcmFnbWVudCB0aGF0IGluY2x1ZGVzIGEgZnJhZ21lbnQgc3ByZWFkYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBmcmFnbWVudHMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBmcmFnbWVudCBIZXJvRGV0YWlscyBvbiBDaGFyYWN0ZXIge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgICAuLi5Nb3JlSGVyb0RldGFpbHNcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYWdtZW50IE1vcmVIZXJvRGV0YWlscyBvbiBDaGFyYWN0ZXIge1xuICAgICAgICAgIGFwcGVhcnNJblxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yRnJhZ21lbnQoZnJhZ21lbnRzWydIZXJvRGV0YWlscyddKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI3N0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KCknLCAoKSA9PiB7XG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0YCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uU2V0ID0gKG9wZXJhdGlvbnNbJ0hlcm8nXS5zZWxlY3Rpb25TZXQuc2VsZWN0aW9uc1swXSBhcyBGaWVsZClcbiAgICAgICAgLnNlbGVjdGlvblNldCBhcyBTZWxlY3Rpb25TZXQ7XG5cbiAgICAgIGdlbmVyYXRvci5zdHJ1Y3REZWNsYXJhdGlvbkZvclNlbGVjdGlvblNldCh7IHN0cnVjdE5hbWU6ICdIZXJvJywgc2VsZWN0aW9uU2V0IH0pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG5cbiAgICBpdChgc2hvdWxkIGVzY2FwZSByZXNlcnZlZCBrZXl3b3JkcyBpbiBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0YCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBwcml2YXRlOiBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uU2V0ID0gKG9wZXJhdGlvbnNbJ0hlcm8nXS5zZWxlY3Rpb25TZXQuc2VsZWN0aW9uc1swXSBhcyBGaWVsZClcbiAgICAgICAgLnNlbGVjdGlvblNldCBhcyBTZWxlY3Rpb25TZXQ7XG5cbiAgICAgIGdlbmVyYXRvci5zdHJ1Y3REZWNsYXJhdGlvbkZvclNlbGVjdGlvblNldCh7IHN0cnVjdE5hbWU6ICdIZXJvJywgc2VsZWN0aW9uU2V0IH0pO1xuXG4gICAgICBleHBlY3QoZ2VuZXJhdG9yLm91dHB1dCkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgfSk7XG5cbiAgICBpdChgc2hvdWxkIGdlbmVyYXRlIGEgbmVzdGVkIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0IHdpdGggc3Vic2VsZWN0aW9uc2AsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0aW9ucyB9ID0gY29tcGlsZShgXG4gICAgICAgIHF1ZXJ5IEhlcm8ge1xuICAgICAgICAgIGhlcm8ge1xuICAgICAgICAgICAgZnJpZW5kcyB7XG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgc2VsZWN0aW9uIHNldCB3aXRoIGEgZnJhZ21lbnQgc3ByZWFkIHRoYXQgbWF0Y2hlcyB0aGUgcGFyZW50IHR5cGVgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgc2VsZWN0aW9uIHNldCB3aXRoIGEgZnJhZ21lbnQgc3ByZWFkIHdpdGggYSBtb3JlIHNwZWNpZmljIHR5cGUgY29uZGl0aW9uYCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAuLi5Ecm9pZERldGFpbHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCBEcm9pZERldGFpbHMgb24gRHJvaWQge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgfVxuICAgICAgYCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGlvblNldCA9IChvcGVyYXRpb25zWydIZXJvJ10uc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnNbMF0gYXMgRmllbGQpXG4gICAgICAgIC5zZWxlY3Rpb25TZXQgYXMgU2VsZWN0aW9uU2V0O1xuXG4gICAgICBnZW5lcmF0b3Iuc3RydWN0RGVjbGFyYXRpb25Gb3JTZWxlY3Rpb25TZXQoeyBzdHJ1Y3ROYW1lOiAnSGVybycsIHNlbGVjdGlvblNldCB9KTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoYHNob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBzZWxlY3Rpb24gc2V0IHdpdGggYW4gaW5saW5lIGZyYWdtZW50YCwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRpb25zIH0gPSBjb21waWxlKGBcbiAgICAgICAgcXVlcnkgSGVybyB7XG4gICAgICAgICAgaGVybyB7XG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAuLi4gb24gRHJvaWQge1xuICAgICAgICAgICAgICBwcmltYXJ5RnVuY3Rpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgZnJhZ21lbnQgc3ByZWFkIG5lc3RlZCBpbiBhbiBpbmxpbmUgZnJhZ21lbnRgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIC4uLiBvbiBEcm9pZCB7XG4gICAgICAgICAgICAgIC4uLkhlcm9EZXRhaWxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhZ21lbnQgSGVyb0RldGFpbHMgb24gQ2hhcmFjdGVyIHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KGBzaG91bGQgZ2VuZXJhdGUgYSBzdHJ1Y3QgZGVjbGFyYXRpb24gZm9yIGEgc2VsZWN0aW9uIHNldCB3aXRoIGEgY29uZGl0aW9uYWwgZmllbGRgLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBxdWVyeSBIZXJvKCRpbmNsdWRlTmFtZTogQm9vbGVhbiEpIHtcbiAgICAgICAgICBoZXJvIHtcbiAgICAgICAgICAgIG5hbWUgQGluY2x1ZGUoaWY6ICRpbmNsdWRlTmFtZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBzZWxlY3Rpb25TZXQgPSAob3BlcmF0aW9uc1snSGVybyddLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zWzBdIGFzIEZpZWxkKVxuICAgICAgICAuc2VsZWN0aW9uU2V0IGFzIFNlbGVjdGlvblNldDtcblxuICAgICAgZ2VuZXJhdG9yLnN0cnVjdERlY2xhcmF0aW9uRm9yU2VsZWN0aW9uU2V0KHsgc3RydWN0TmFtZTogJ0hlcm8nLCBzZWxlY3Rpb25TZXQgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJyN0eXBlRGVjbGFyYXRpb25Gb3JHcmFwaFFMVHlwZSgpJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYW4gZW51bSBkZWNsYXJhdGlvbiBmb3IgYSBHcmFwaFFMRW51bVR5cGUnLCAoKSA9PiB7XG4gICAgICBnZW5lcmF0b3IudHlwZURlY2xhcmF0aW9uRm9yR3JhcGhRTFR5cGUoc2NoZW1hLmdldFR5cGUoJ0VwaXNvZGUnKSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmF0b3Iub3V0cHV0KS50b01hdGNoU25hcHNob3QoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXNjYXBlIGlkZW50aWZpZXJzIGluIGNhc2VzIG9mIGVudW0gZGVjbGFyYXRpb24gZm9yIGEgR3JhcGhRTEVudW1UeXBlJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWxidW1Qcml2YWNpZXNFbnVtID0gbmV3IEdyYXBoUUxFbnVtVHlwZSh7XG4gICAgICAgIG5hbWU6ICdBbGJ1bVByaXZhY2llcycsXG4gICAgICAgIHZhbHVlczogeyBQVUJMSUM6IHsgdmFsdWU6ICdQVUJMSUMnIH0sIFBSSVZBVEU6IHsgdmFsdWU6ICdQUklWQVRFJyB9IH1cbiAgICAgIH0pO1xuXG4gICAgICBnZW5lcmF0b3IudHlwZURlY2xhcmF0aW9uRm9yR3JhcGhRTFR5cGUoYWxidW1Qcml2YWNpZXNFbnVtKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhIHN0cnVjdCBkZWNsYXJhdGlvbiBmb3IgYSBHcmFwaFFMSW5wdXRPYmplY3RUeXBlJywgKCkgPT4ge1xuICAgICAgZ2VuZXJhdG9yLnR5cGVEZWNsYXJhdGlvbkZvckdyYXBoUUxUeXBlKHNjaGVtYS5nZXRUeXBlKCdSZXZpZXdJbnB1dCcpKTtcblxuICAgICAgZXhwZWN0KGdlbmVyYXRvci5vdXRwdXQpLnRvTWF0Y2hTbmFwc2hvdCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI2RpY3Rpb25hcnlMaXRlcmFsRm9yRmllbGRBcmd1bWVudHMoKScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgZXhwcmVzc2lvbnMgZm9yIGlucHV0IG9iamVjdHMgd2l0aCB2YXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdGlvbnMgfSA9IGNvbXBpbGUoYFxuICAgICAgICBtdXRhdGlvbiBGaWVsZEFyZ3VtZW50c1dpdGhJbnB1dE9iamVjdHMoJGNvbW1lbnRhcnk6IFN0cmluZyEsICRyZWQ6IEludCEpIHtcbiAgICAgICAgICBjcmVhdGVSZXZpZXcoZXBpc29kZTogSkVESSwgcmV2aWV3OiB7IHN0YXJzOiAyLCBjb21tZW50YXJ5OiAkY29tbWVudGFyeSwgZmF2b3JpdGVfY29sb3I6IHsgcmVkOiAkcmVkLCBibHVlOiAxMDAsIGdyZWVuOiA1MCB9IH0pIHtcbiAgICAgICAgICAgIGNvbW1lbnRhcnlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGApO1xuXG4gICAgICBjb25zdCBmaWVsZEFyZ3VtZW50cyA9IChvcGVyYXRpb25zWydGaWVsZEFyZ3VtZW50c1dpdGhJbnB1dE9iamVjdHMnXS5zZWxlY3Rpb25TZXRcbiAgICAgICAgLnNlbGVjdGlvbnNbMF0gYXMgRmllbGQpLmFyZ3MgYXMgQXJndW1lbnRbXTtcbiAgICAgIGNvbnN0IGRpY3Rpb25hcnlMaXRlcmFsID0gZ2VuZXJhdG9yLmhlbHBlcnMuZGljdGlvbmFyeUxpdGVyYWxGb3JGaWVsZEFyZ3VtZW50cyhmaWVsZEFyZ3VtZW50cyk7XG5cbiAgICAgIGV4cGVjdChkaWN0aW9uYXJ5TGl0ZXJhbCkudG9CZShcbiAgICAgICAgJ1tcImVwaXNvZGVcIjogXCJKRURJXCIsIFwicmV2aWV3XCI6IFtcInN0YXJzXCI6IDIsIFwiY29tbWVudGFyeVwiOiBHcmFwaFFMVmFyaWFibGUoXCJjb21tZW50YXJ5XCIpLCBcImZhdm9yaXRlX2NvbG9yXCI6IFtcInJlZFwiOiBHcmFwaFFMVmFyaWFibGUoXCJyZWRcIiksIFwiYmx1ZVwiOiAxMDAsIFwiZ3JlZW5cIjogNTBdXV0nXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==