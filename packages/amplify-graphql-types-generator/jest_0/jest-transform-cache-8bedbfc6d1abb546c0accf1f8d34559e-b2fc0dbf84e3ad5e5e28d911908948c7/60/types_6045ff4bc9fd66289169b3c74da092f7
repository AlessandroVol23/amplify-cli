a637b06b39671fc86f7f760365e37164
'use strict';require('ts-jest').install("/c/Users/Sandro/repo/amplify-cli/packages/amplify-graphql-types-generator/test/scala/types.js", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst graphql_1 = require(\"graphql\");\nconst loading_1 = require(\"../../src/loading\");\nconst schema = loading_1.loadSchema(require.resolve('../fixtures/starwars/schema.json'));\nconst types_1 = require(\"../../src/scala/types\");\ndescribe('Scala code generation: Types', function () {\n    describe('#typeNameFromGraphQLType()', function () {\n        test('should return Option[String] for GraphQLString', function () {\n            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLString)).toBe('Option[String]');\n        });\n        test('should return String for GraphQLNonNull(GraphQLString)', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLNonNull(graphql_1.GraphQLString))).toBe('String');\n        });\n        test('should return Option[Seq[Option[String]]] for GraphQLList(GraphQLString)', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(graphql_1.GraphQLString))).toBe('Option[Seq[Option[String]]]');\n        });\n        test('should return Seq[String] for GraphQLNonNull(GraphQLList(GraphQLString))', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(graphql_1.GraphQLString)))).toBe('Seq[Option[String]]');\n        });\n        test('should return Option[Seq[String]] for GraphQLList(GraphQLNonNull(GraphQLString))', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString)))).toBe('Option[Seq[String]]');\n        });\n        test('should return Seq[String] for GraphQLNonNull(GraphQLList(GraphQLNonNull(GraphQLString)))', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString))))).toBe('Seq[String]');\n        });\n        test('should return Option[Seq[Option[Seq[Option[String]]]]] for GraphQLList(GraphQLList(GraphQLString))', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(new graphql_1.GraphQLList(graphql_1.GraphQLString)))).toBe('Option[Seq[Option[Seq[Option[String]]]]]');\n        });\n        test('should return Option[Seq[Seq[Option[String]]]] for GraphQLList(GraphQLNonNull(GraphQLList(GraphQLString)))', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(graphql_1.GraphQLString))))).toBe('Option[Seq[Seq[Option[String]]]]');\n        });\n        test('should return Option[Int] for GraphQLInt', function () {\n            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLInt)).toBe('Option[Int]');\n        });\n        test('should return Option[Double] for GraphQLFloat', function () {\n            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLFloat)).toBe('Option[Double]');\n        });\n        test('should return Option[Boolean] for GraphQLBoolean', function () {\n            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLBoolean)).toBe('Option[Boolean]');\n        });\n        test('should return Option[String] for GraphQLID', function () {\n            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLID)).toBe('Option[String]');\n        });\n        test('should return Option[String] for a custom scalar type', function () {\n            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLScalarType({ name: 'CustomScalarType', serialize: String }))).toBe('Option[String]');\n        });\n        test('should return a passed through custom scalar type with the passthroughCustomScalars option', function () {\n            expect(types_1.typeNameFromGraphQLType({ passthroughCustomScalars: true, customScalarsPrefix: '' }, new graphql_1.GraphQLScalarType({ name: 'CustomScalarType', serialize: String }))).toBe('Option[CustomScalarType]');\n        });\n        test('should return a passed through custom scalar type with a prefix with the customScalarsPrefix option', function () {\n            expect(types_1.typeNameFromGraphQLType({ passthroughCustomScalars: true, customScalarsPrefix: 'My' }, new graphql_1.GraphQLScalarType({ name: 'CustomScalarType', serialize: String }))).toBe('Option[MyCustomScalarType]');\n        });\n    });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0eXBlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLHFDQVNpQjtBQUVqQiwrQ0FBOEM7QUFDOUMsTUFBTSxNQUFNLEdBQUcsb0JBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGtDQUFrQyxDQUFDLENBQUMsQ0FBQztBQUkvRSxpREFBK0Q7QUFFL0QsUUFBUSxDQUFDLDhCQUE4QixFQUFFO0lBQ3ZDLFFBQVEsQ0FBQyw0QkFBNEIsRUFBRTtRQUNyQyxJQUFJLENBQUMsZ0RBQWdELEVBQUU7WUFDckQsTUFBTSxDQUFDLCtCQUF1QixDQUFDLEVBQUUsRUFBRSx1QkFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUM1RSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyx3REFBd0QsRUFBRTtZQUM3RCxNQUFNLENBQUMsK0JBQXVCLENBQUMsRUFBRSxFQUFFLElBQUksd0JBQWMsQ0FBQyx1QkFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4RixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywwRUFBMEUsRUFBRTtZQUMvRSxNQUFNLENBQUMsK0JBQXVCLENBQUMsRUFBRSxFQUFFLElBQUkscUJBQVcsQ0FBQyx1QkFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1FBQzFHLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDBFQUEwRSxFQUFFO1lBQy9FLE1BQU0sQ0FBQywrQkFBdUIsQ0FBQyxFQUFFLEVBQUUsSUFBSSx3QkFBYyxDQUFDLElBQUkscUJBQVcsQ0FBQyx1QkFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDdEgsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsa0ZB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RSxFQUFFLElBQUksMkJBQWlCLENBQUMsRUFBRSxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBQzVNLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmlwSW5kZW50IH0gZnJvbSAnY29tbW9uLXRhZ3MnXG5cbmltcG9ydCB7XG4gIEdyYXBoUUxTdHJpbmcsXG4gIEdyYXBoUUxJbnQsXG4gIEdyYXBoUUxGbG9hdCxcbiAgR3JhcGhRTEJvb2xlYW4sXG4gIEdyYXBoUUxJRCxcbiAgR3JhcGhRTExpc3QsXG4gIEdyYXBoUUxOb25OdWxsLFxuICBHcmFwaFFMU2NhbGFyVHlwZSxcbn0gZnJvbSAnZ3JhcGhxbCc7XG5cbmltcG9ydCB7IGxvYWRTY2hlbWEgfSBmcm9tICcuLi8uLi9zcmMvbG9hZGluZydcbmNvbnN0IHNjaGVtYSA9IGxvYWRTY2hlbWEocmVxdWlyZS5yZXNvbHZlKCcuLi9maXh0dXJlcy9zdGFyd2Fycy9zY2hlbWEuanNvbicpKTtcblxuaW1wb3J0IENvZGVHZW5lcmF0b3IgZnJvbSAnLi4vLi4vc3JjL3V0aWxpdGllcy9Db2RlR2VuZXJhdG9yJztcblxuaW1wb3J0IHsgdHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUgfSBmcm9tICcuLi8uLi9zcmMvc2NhbGEvdHlwZXMnXG5cbmRlc2NyaWJlKCdTY2FsYSBjb2RlIGdlbmVyYXRpb246IFR5cGVzJywgZnVuY3Rpb24oKSB7XG4gIGRlc2NyaWJlKCcjdHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoKScsIGZ1bmN0aW9uKCkge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gT3B0aW9uW1N0cmluZ10gZm9yIEdyYXBoUUxTdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgR3JhcGhRTFN0cmluZykpLnRvQmUoJ09wdGlvbltTdHJpbmddJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIFN0cmluZyBmb3IgR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKSkudG9CZSgnU3RyaW5nJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltTZXFbT3B0aW9uW1N0cmluZ11dXSBmb3IgR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZyknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKSkudG9CZSgnT3B0aW9uW1NlcVtPcHRpb25bU3RyaW5nXV1dJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIFNlcVtTdHJpbmddIGZvciBHcmFwaFFMTm9uTnVsbChHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxOb25OdWxsKG5ldyBHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSkpKS50b0JlKCdTZXFbT3B0aW9uW1N0cmluZ11dJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltTZXFbU3RyaW5nXV0gZm9yIEdyYXBoUUxMaXN0KEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKScsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKHt9LCBuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKSkpLnRvQmUoJ09wdGlvbltTZXFbU3RyaW5nXV0nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gU2VxW1N0cmluZ10gZm9yIEdyYXBoUUxOb25OdWxsKEdyYXBoUUxMaXN0KEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKSknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxOb25OdWxsKG5ldyBHcmFwaFFMTGlzdChuZXcgR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZykpKSkpLnRvQmUoJ1NlcVtTdHJpbmddJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltTZXFbT3B0aW9uW1NlcVtPcHRpb25bU3RyaW5nXV1dXV0gZm9yIEdyYXBoUUxMaXN0KEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKScsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKHt9LCBuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKSkpLnRvQmUoJ09wdGlvbltTZXFbT3B0aW9uW1NlcVtPcHRpb25bU3RyaW5nXV1dXV0nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gT3B0aW9uW1NlcVtTZXFbT3B0aW9uW1N0cmluZ11dXV0gZm9yIEdyYXBoUUxMaXN0KEdyYXBoUUxOb25OdWxsKEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKSknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxMaXN0KG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZykpKSkpLnRvQmUoJ09wdGlvbltTZXFbU2VxW09wdGlvbltTdHJpbmddXV1dJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltJbnRdIGZvciBHcmFwaFFMSW50JywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIEdyYXBoUUxJbnQpKS50b0JlKCdPcHRpb25bSW50XScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bRG91YmxlXSBmb3IgR3JhcGhRTEZsb2F0JywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIEdyYXBoUUxGbG9hdCkpLnRvQmUoJ09wdGlvbltEb3VibGVdJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltCb29sZWFuXSBmb3IgR3JhcGhRTEJvb2xlYW4nLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgR3JhcGhRTEJvb2xlYW4pKS50b0JlKCdPcHRpb25bQm9vbGVhbl0nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gT3B0aW9uW1N0cmluZ10gZm9yIEdyYXBoUUxJRCcsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKHt9LCBHcmFwaFFMSUQpKS50b0JlKCdPcHRpb25bU3RyaW5nXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bU3RyaW5nXSBmb3IgYSBjdXN0b20gc2NhbGFyIHR5cGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHsgbmFtZTogJ0N1c3RvbVNjYWxhclR5cGUnLCBzZXJpYWxpemU6IFN0cmluZyB9KSkpLnRvQmUoJ09wdGlvbltTdHJpbmddJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGEgcGFzc2VkIHRocm91Z2ggY3VzdG9tIHNjYWxhciB0eXBlIHdpdGggdGhlIHBhc3N0aHJvdWdoQ3VzdG9tU2NhbGFycyBvcHRpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7IHBhc3N0aHJvdWdoQ3VzdG9tU2NhbGFyczogdHJ1ZSwgY3VzdG9tU2NhbGFyc1ByZWZpeDogJycgfSwgbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHsgbmFtZTogJ0N1c3RvbVNjYWxhclR5cGUnLCBzZXJpYWxpemU6IFN0cmluZyB9KSkpLnRvQmUoJ09wdGlvbltDdXN0b21TY2FsYXJUeXBlXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBhIHBhc3NlZCB0aHJvdWdoIGN1c3RvbSBzY2FsYXIgdHlwZSB3aXRoIGEgcHJlZml4IHdpdGggdGhlIGN1c3RvbVNjYWxhcnNQcmVmaXggb3B0aW9uJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoeyBwYXNzdGhyb3VnaEN1c3RvbVNjYWxhcnM6IHRydWUsIGN1c3RvbVNjYWxhcnNQcmVmaXg6ICdNeScgfSwgbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHsgbmFtZTogJ0N1c3RvbVNjYWxhclR5cGUnLCBzZXJpYWxpemU6IFN0cmluZyB9KSkpLnRvQmUoJ09wdGlvbltNeUN1c3RvbVNjYWxhclR5cGVdJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=");"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
const loading_1 = require("../../src/loading");
const schema = loading_1.loadSchema(require.resolve('../fixtures/starwars/schema.json'));
const types_1 = require("../../src/scala/types");
describe('Scala code generation: Types', function () {
    describe('#typeNameFromGraphQLType()', function () {
        test('should return Option[String] for GraphQLString', function () {
            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLString)).toBe('Option[String]');
        });
        test('should return String for GraphQLNonNull(GraphQLString)', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLNonNull(graphql_1.GraphQLString))).toBe('String');
        });
        test('should return Option[Seq[Option[String]]] for GraphQLList(GraphQLString)', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(graphql_1.GraphQLString))).toBe('Option[Seq[Option[String]]]');
        });
        test('should return Seq[String] for GraphQLNonNull(GraphQLList(GraphQLString))', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(graphql_1.GraphQLString)))).toBe('Seq[Option[String]]');
        });
        test('should return Option[Seq[String]] for GraphQLList(GraphQLNonNull(GraphQLString))', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString)))).toBe('Option[Seq[String]]');
        });
        test('should return Seq[String] for GraphQLNonNull(GraphQLList(GraphQLNonNull(GraphQLString)))', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(graphql_1.GraphQLString))))).toBe('Seq[String]');
        });
        test('should return Option[Seq[Option[Seq[Option[String]]]]] for GraphQLList(GraphQLList(GraphQLString))', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(new graphql_1.GraphQLList(graphql_1.GraphQLString)))).toBe('Option[Seq[Option[Seq[Option[String]]]]]');
        });
        test('should return Option[Seq[Seq[Option[String]]]] for GraphQLList(GraphQLNonNull(GraphQLList(GraphQLString)))', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLList(new graphql_1.GraphQLNonNull(new graphql_1.GraphQLList(graphql_1.GraphQLString))))).toBe('Option[Seq[Seq[Option[String]]]]');
        });
        test('should return Option[Int] for GraphQLInt', function () {
            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLInt)).toBe('Option[Int]');
        });
        test('should return Option[Double] for GraphQLFloat', function () {
            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLFloat)).toBe('Option[Double]');
        });
        test('should return Option[Boolean] for GraphQLBoolean', function () {
            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLBoolean)).toBe('Option[Boolean]');
        });
        test('should return Option[String] for GraphQLID', function () {
            expect(types_1.typeNameFromGraphQLType({}, graphql_1.GraphQLID)).toBe('Option[String]');
        });
        test('should return Option[String] for a custom scalar type', function () {
            expect(types_1.typeNameFromGraphQLType({}, new graphql_1.GraphQLScalarType({ name: 'CustomScalarType', serialize: String }))).toBe('Option[String]');
        });
        test('should return a passed through custom scalar type with the passthroughCustomScalars option', function () {
            expect(types_1.typeNameFromGraphQLType({ passthroughCustomScalars: true, customScalarsPrefix: '' }, new graphql_1.GraphQLScalarType({ name: 'CustomScalarType', serialize: String }))).toBe('Option[CustomScalarType]');
        });
        test('should return a passed through custom scalar type with a prefix with the customScalarsPrefix option', function () {
            expect(types_1.typeNameFromGraphQLType({ passthroughCustomScalars: true, customScalarsPrefix: 'My' }, new graphql_1.GraphQLScalarType({ name: 'CustomScalarType', serialize: String }))).toBe('Option[MyCustomScalarType]');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpcEluZGVudCB9IGZyb20gJ2NvbW1vbi10YWdzJ1xuXG5pbXBvcnQge1xuICBHcmFwaFFMU3RyaW5nLFxuICBHcmFwaFFMSW50LFxuICBHcmFwaFFMRmxvYXQsXG4gIEdyYXBoUUxCb29sZWFuLFxuICBHcmFwaFFMSUQsXG4gIEdyYXBoUUxMaXN0LFxuICBHcmFwaFFMTm9uTnVsbCxcbiAgR3JhcGhRTFNjYWxhclR5cGUsXG59IGZyb20gJ2dyYXBocWwnO1xuXG5pbXBvcnQgeyBsb2FkU2NoZW1hIH0gZnJvbSAnLi4vLi4vc3JjL2xvYWRpbmcnXG5jb25zdCBzY2hlbWEgPSBsb2FkU2NoZW1hKHJlcXVpcmUucmVzb2x2ZSgnLi4vZml4dHVyZXMvc3RhcndhcnMvc2NoZW1hLmpzb24nKSk7XG5cbmltcG9ydCBDb2RlR2VuZXJhdG9yIGZyb20gJy4uLy4uL3NyYy91dGlsaXRpZXMvQ29kZUdlbmVyYXRvcic7XG5cbmltcG9ydCB7IHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlIH0gZnJvbSAnLi4vLi4vc3JjL3NjYWxhL3R5cGVzJ1xuXG5kZXNjcmliZSgnU2NhbGEgY29kZSBnZW5lcmF0aW9uOiBUeXBlcycsIGZ1bmN0aW9uKCkge1xuICBkZXNjcmliZSgnI3R5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKCknLCBmdW5jdGlvbigpIHtcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltTdHJpbmddIGZvciBHcmFwaFFMU3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIEdyYXBoUUxTdHJpbmcpKS50b0JlKCdPcHRpb25bU3RyaW5nXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBTdHJpbmcgZm9yIEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIG5ldyBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSkpLnRvQmUoJ1N0cmluZycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bU2VxW09wdGlvbltTdHJpbmddXV0gZm9yIEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIG5ldyBHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSkpLnRvQmUoJ09wdGlvbltTZXFbT3B0aW9uW1N0cmluZ11dXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBTZXFbU3RyaW5nXSBmb3IgR3JhcGhRTE5vbk51bGwoR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZykpJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZykpKSkudG9CZSgnU2VxW09wdGlvbltTdHJpbmddXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bU2VxW1N0cmluZ11dIGZvciBHcmFwaFFMTGlzdChHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxMaXN0KG5ldyBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSkpKS50b0JlKCdPcHRpb25bU2VxW1N0cmluZ11dJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIFNlcVtTdHJpbmddIGZvciBHcmFwaFFMTm9uTnVsbChHcmFwaFFMTGlzdChHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSkpJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIG5ldyBHcmFwaFFMTm9uTnVsbChuZXcgR3JhcGhRTExpc3QobmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpKSkpKS50b0JlKCdTZXFbU3RyaW5nXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bU2VxW09wdGlvbltTZXFbT3B0aW9uW1N0cmluZ11dXV1dIGZvciBHcmFwaFFMTGlzdChHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSknLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgbmV3IEdyYXBoUUxMaXN0KG5ldyBHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSkpKS50b0JlKCdPcHRpb25bU2VxW09wdGlvbltTZXFbT3B0aW9uW1N0cmluZ11dXV1dJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltTZXFbU2VxW09wdGlvbltTdHJpbmddXV1dIGZvciBHcmFwaFFMTGlzdChHcmFwaFFMTm9uTnVsbChHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSkpJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIG5ldyBHcmFwaFFMTGlzdChuZXcgR3JhcGhRTE5vbk51bGwobmV3IEdyYXBoUUxMaXN0KEdyYXBoUUxTdHJpbmcpKSkpKS50b0JlKCdPcHRpb25bU2VxW1NlcVtPcHRpb25bU3RyaW5nXV1dXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bSW50XSBmb3IgR3JhcGhRTEludCcsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKHt9LCBHcmFwaFFMSW50KSkudG9CZSgnT3B0aW9uW0ludF0nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gT3B0aW9uW0RvdWJsZV0gZm9yIEdyYXBoUUxGbG9hdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKHt9LCBHcmFwaFFMRmxvYXQpKS50b0JlKCdPcHRpb25bRG91YmxlXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBPcHRpb25bQm9vbGVhbl0gZm9yIEdyYXBoUUxCb29sZWFuJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIEdyYXBoUUxCb29sZWFuKSkudG9CZSgnT3B0aW9uW0Jvb2xlYW5dJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIE9wdGlvbltTdHJpbmddIGZvciBHcmFwaFFMSUQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh0eXBlTmFtZUZyb21HcmFwaFFMVHlwZSh7fSwgR3JhcGhRTElEKSkudG9CZSgnT3B0aW9uW1N0cmluZ10nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gT3B0aW9uW1N0cmluZ10gZm9yIGEgY3VzdG9tIHNjYWxhciB0eXBlJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoe30sIG5ldyBHcmFwaFFMU2NhbGFyVHlwZSh7IG5hbWU6ICdDdXN0b21TY2FsYXJUeXBlJywgc2VyaWFsaXplOiBTdHJpbmcgfSkpKS50b0JlKCdPcHRpb25bU3RyaW5nXScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBhIHBhc3NlZCB0aHJvdWdoIGN1c3RvbSBzY2FsYXIgdHlwZSB3aXRoIHRoZSBwYXNzdGhyb3VnaEN1c3RvbVNjYWxhcnMgb3B0aW9uJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodHlwZU5hbWVGcm9tR3JhcGhRTFR5cGUoeyBwYXNzdGhyb3VnaEN1c3RvbVNjYWxhcnM6IHRydWUsIGN1c3RvbVNjYWxhcnNQcmVmaXg6ICcnIH0sIG5ldyBHcmFwaFFMU2NhbGFyVHlwZSh7IG5hbWU6ICdDdXN0b21TY2FsYXJUeXBlJywgc2VyaWFsaXplOiBTdHJpbmcgfSkpKS50b0JlKCdPcHRpb25bQ3VzdG9tU2NhbGFyVHlwZV0nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gYSBwYXNzZWQgdGhyb3VnaCBjdXN0b20gc2NhbGFyIHR5cGUgd2l0aCBhIHByZWZpeCB3aXRoIHRoZSBjdXN0b21TY2FsYXJzUHJlZml4IG9wdGlvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHR5cGVOYW1lRnJvbUdyYXBoUUxUeXBlKHsgcGFzc3Rocm91Z2hDdXN0b21TY2FsYXJzOiB0cnVlLCBjdXN0b21TY2FsYXJzUHJlZml4OiAnTXknIH0sIG5ldyBHcmFwaFFMU2NhbGFyVHlwZSh7IG5hbWU6ICdDdXN0b21TY2FsYXJUeXBlJywgc2VyaWFsaXplOiBTdHJpbmcgfSkpKS50b0JlKCdPcHRpb25bTXlDdXN0b21TY2FsYXJUeXBlXScpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==